<!doctype html><html><head><style></style><script type="text/javascript">function getScript(e,t){var n=document.createElement("script");n.type="text/javascript",n.async=!0,t&&(n.onload=t),n.src=e,document.head.appendChild(n)}function parseMessage(e){var t=e.data,n=t.indexOf(DOLLAR_PREFIX+RECEIVE_MSG_PREFIX);return-1!==n?getMessageParams(t.slice(n+2)):{}}function getMessageParams(e){var t,n=[],i=e.split("/"),o=i.length;if(-1===e.indexOf(RECEIVE_MSG_PREFIX)){if(o>=2&&o%2==0)for(t=0;o>t;t+=2)n[i[t]]=i.length<t+1?null:decodeURIComponent(i[t+1])}else{var s=e.split(RECEIVE_MSG_PREFIX);void 0!==s[1]&&(n=JSON&&JSON.parse(s[1]))}return n}function getDapi(e){var t=parseMessage(e);t&&t.name!==GET_DAPI_URL_MSG_NAME||getScript(t.data,onDapiReceived)}function invokeDapiListeners(){for(var e in dapiEventsPool)dapiEventsPool.hasOwnProperty(e)&&dapi.addEventListener(e,dapiEventsPool[e])}function onDapiReceived(){dapi=window.dapi,window.removeEventListener("message",getDapi),invokeDapiListeners()}function init(){window.dapi.isDemoDapi&&(window.parent.postMessage(DOLLAR_PREFIX+SEND_MSG_PREFIX+JSON.stringify({state:"getDapiUrl"}),"*"),window.addEventListener("message",getDapi,!1))}var DOLLAR_PREFIX="$$",RECEIVE_MSG_PREFIX="DAPI_SERVICE:",SEND_MSG_PREFIX="DAPI_AD:",GET_DAPI_URL_MSG_NAME="connection.getDapiUrl",dapiEventsPool={},dapi=window.dapi||{isReady:function(){return!1},addEventListener:function(e,t){dapiEventsPool[e]=t},removeEventListener:function(e){delete dapiEventsPool[e]},isDemoDapi:!0};init(),function(){function e(){let e="";if(window.crypto&&window.crypto.getRandomValues){const t=new Uint8Array(12);window.crypto.getRandomValues(t);for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n])}else{const t=[(navigator.userAgent||navigator.vendor||window.opera)+Math.random(),(navigator.language||"")+window.innerWidth+window.innerHeight+Math.random()];try{t.push(JSON.stringify(window.performance)+Math.random())}catch(e){t.push((new Date).valueOf().toString())}for(let n=0;n<3;n++){let i=window.murmurhash3_32_gc(t[n]);for(let t=0;t<4;t++)e+=String.fromCharCode(255&i),i>>=8}}return btoa(e)}function t(){try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const e=new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0]));if(e instanceof WebAssembly.Module)return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}catch(e){}return!1}window.murmurhash3_32_gc=function(e,t){var n,i,o,s,a,r,d,c;for(n=3&e.length,i=e.length-n,o=t,a=3432918353,r=461845907,c=0;c<i;)d=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,o=27492+(65535&(s=5*(65535&(o=(o^=d=(65535&(d=(d=(65535&d)*a+(((d>>>16)*a&65535)<<16)&4294967295)<<15|d>>>17))*r+(((d>>>16)*r&65535)<<16)&4294967295)<<13|o>>>19))+((5*(o>>>16)&65535)<<16)&4294967295))+((58964+(s>>>16)&65535)<<16);switch(d=0,n){case 3:d^=(255&e.charCodeAt(c+2))<<16;case 2:d^=(255&e.charCodeAt(c+1))<<8;case 1:o^=d=(65535&(d=(d=(65535&(d^=255&e.charCodeAt(c)))*a+(((d>>>16)*a&65535)<<16)&4294967295)<<15|d>>>17))*r+(((d>>>16)*r&65535)<<16)&4294967295}return o^=e.length,o=2246822507*(65535&(o^=o>>>16))+((2246822507*(o>>>16)&65535)<<16)&4294967295,o=3266489909*(65535&(o^=o>>>13))+((3266489909*(o>>>16)&65535)<<16)&4294967295,(o^=o>>>16)>>>0};const n=window.performance&&window.performance.now&&window.performance.timing?function(){return window.performance.now()}:Date.now,i=function(o,s,a,r,d,c,l,E,u){this.env={screenWidth:window.innerWidth,screenHeight:window.innerHeight,sessionId:e(),signature:r,locale:(navigator.language||"").split("-")[0]||"xx",version:1,appId:s,adNetwork:o,buildId:a,wasm:t(),permutationId:0,lastPing:0,interactionClientX:0,interactionClientY:0,isRewarded:i.IS_REWARDED_UNKNOWN},this.eventSequenceNumbers={},this.totalEvents=0,this.permutationWhitelist=u,this.statsUrl=d,this.configUrl=c;const h=n();this.timestamps={default:{timestamp:h,previousTimestamp:h},system:{timestamp:h,previousTimestamp:h}},this.frameTimestamp=1e9,this.configTimeout=l,this.configDelay=E;const m=navigator.userAgent||navigator.vendor||window.opera,g=navigator.maxTouchPoints&&navigator.maxTouchPoints>2;/windows phone/i.test(m)?this.env.os="wp":/android/i.test(m)?this.env.os="android":/ipad|iphone|ipod/i.test(m)||/macintosh/i.test(m)&&g&&!window.MSStream?this.env.os="ios":this.env.os="",this.subscribeToSystemEvents(),this.fetchConfig(),this.subscribeToInteraction()};function o(e,t,n){if("undefined"!=typeof FbPlayableAd){if(this.totalEvents++,this.incrementSequenceNumber(e),this.validateEventLimits(e))switch(e){case i.LOADED_EVENT_NAME:FbPlayableAd.logGameLoad(),console.log("Ï€: Logged frame event as FbPlayableAd.logGameLoad");break;case i.STARTING_EVENT_NAME:case i.STARTED_EVENT_NAME:case i.FRAME_EVENT_NAME:case i.GAME_END_EVENT_NAME:FbPlayableAd.logLevelComplete(e),console.log("Ï€: Logged "+e+" event as FbPlayableAd.logLevelComplete with "+e);break;case i.INTERACTION_EVENT_NAME:FbPlayableAd.logButtonClick("interaction",0,0),console.log("Ï€: Logged interaction event as FbPlayableAd.logButtonClick");break;default:console.log("Ï€: Not logging "+e+" since it does not map to Facebook SDK")}}else console.warn("FbPlayableAd is not defined")}function s(e,t){if(this.totalEvents++,this.incrementSequenceNumber(e),!this.validateEventLimits(e))return;const n=["custom",e=i.CUSTOM_EVENT_NAME_PREFIX+e,t||0].join(":");FbPlayableAd.logLevelComplete(n),console.log("Ï€: Logged "+e+" event as FbPlayableAd.logLevelComplete with "+n)}i.prototype.constructor=i,i.LOAD_EVENT_NAME="load",i.LOADED_EVENT_NAME="loaded",i.STARTING_EVENT_NAME="starting",i.STARTED_EVENT_NAME="started",i.INTERACTION_EVENT_NAME="interaction",i.CTA_EVENT_NAME="cta",i.SAMPLE_EVENT_NAME="sample",i.BOUNCE_EVENT_NAME="bounce",i.FRAME_EVENT_NAME="frame",i.CONFIG_EVENT_NAME="config",i.GAME_END_EVENT_NAME="game_end",i.INTERNAL_CLICK_EVENT_NAME="internal.click",i.CUSTOM_EVENT_NAME_PREFIX="custom.",i.SYSTEM_EVENT_NAME_PREFIX="system.",i.PERFORMANCE_SAMPLE_INTERVAL=5e3,i.BOUNCE_TIME_DIFFERENCE=1e3,i.FACEBOOK_AD_NETWORK_NAME="facebook",i.VUNGLE_AD_NETWORK_NAME="vungle",i.MINTEGRAL_AD_NETWORK_NAME="mintegral",i.MAX_EVENTS=256,i.MAX_SEQUENCE_NUMBER=32,i.IS_REWARDED_TRUE=1,i.IS_REWARDED_FALSE=0,i.IS_REWARDED_UNKNOWN=2,i.IRON_SOURCE_PRODUCT_TYPE_REWARDED_VIDEO="RewardedVideo",i.IRON_SOURCE_PRODUCT_TYPE_INTERSTITIAL="Interstitial",Object.assign(i.prototype,{fetchConfig:function(){this.configRequestedAt=n(),this.configUrl?this.configFetchPromise=fetch(this.configUrl).then((e=>e.json())).catch((e=>null)):this.configFetchPromise=new Promise((e=>{e(null)}))},rollADice:function(){return window.PI_CONFIG_RANDOM||Math.random()},selectPermutationFromUI:function(){return!location.search||location.search.indexOf("mv_debug=true")<0?new Promise((e=>{e()})):new Promise((e=>{const t=document.createElement("div");t.style="background: white; overflow: scroll; position: absolute; z-index: 1000000; top: 50%; left: 50%; width: 90%; height: 20%; transform: translateX(-50%) translateY(-50%);";const n=function(n){const i=window.pi.permutationWhitelist[n];i?(window.pi.env.permutationId=n,window.playgroundOverrides=i):(window.pi.env.permutationId=0,window.playgroundOverrides={}),document.body.removeChild(t),e()};for(const e in window.pi.permutationWhitelist){const i=document.createElement("a"),o=parseInt(e,10);i.innerText="Permutation #"+e,i.style="display: block; padding: 0.25em 0.5em; text-decoration: underline; position: static; color: black",i.onclick=function(){n(this)}.bind(o),t.appendChild(i)}document.body.appendChild(t)}))},filterPermutations:function(e){if(!this.permutationWhitelist)return e;let t=0;for(let n=0;n<e.length;n++){const i=e[n];i.weight=1e6*(i.threshold-t),t=i.threshold}const n=[];let i=0;for(let t=0;t<e.length;t++){const o=e[t],s=this.permutationWhitelist[o.id];if(s){const e={id:o.id,weight:o.weight,data:s};n.push(e),i+=e.weight}}let o=0;for(let e=0;e<n.length;e++){const t=n[e];o+=t.weight/i,t.threshold=o}return n},selectPermutationFromConfig:function(){const e=Math.max(0,Math.min(this.configDelay,this.configTimeout-n()));this.configTimeoutPromise=new Promise((t=>{setTimeout(t,e)}));const t=Promise.race([this.configFetchPromise,this.configTimeoutPromise]),o=this.rollADice(),s=this.configRequestedAt;return t.then((e=>{if(!e||!e.permutations)return;const t=window.pi.filterPermutations(e.permutations);for(let e=0;e<t.length;e++){const n=t[e];if(n.threshold>=o){window.pi.env.permutationId=n.id,window.playgroundOverrides=n.data;break}}window.pi.logEvent(i.CONFIG_EVENT_NAME,!1,{timedelta:n()-s})}))},ready:function(e){Promise.all([new Promise(Bridge.ready),this.selectPermutationFromConfig(),this.selectPermutationFromUI()]).then(e)},attachTo:function(e){this.app=e,this.app.events?this.app.events.on("postrender",this.onPostRender,this):this.app.on("postrender",this.onPostRender,this)},subscribeToInteraction:function(){document.addEventListener("DOMContentLoaded",(()=>{this.onInteractionCallback=this.onInteraction.bind(this),document.body.addEventListener("click",this.onInteractionCallback),document.body.addEventListener("touchstart",this.onInteractionCallback)}))},onInteraction:function(e){this.isEventLogged(i.FRAME_EVENT_NAME,1)&&!this.isEventLogged(i.INTERACTION_EVENT_NAME,1)&&(this.captureInteractionEventData(e),this.logInteraction(e)),this.isEventLogged(i.INTERNAL_CLICK_EVENT_NAME,5)||(this.captureInteractionEventData(e),this.logEvent(i.INTERNAL_CLICK_EVENT_NAME,!1,{}))},captureInteractionEventData:function(e){const t="touchstart"===e.type?e.touches[0]:e;this.env.interactionClientX=1*t.clientX/window.innerWidth,this.env.interactionClientY=1*t.clientY/window.innerHeight},startWatchingBounce:function(){this.onRequestAnimationFrameTimestamp=n(),this.onRequestAnimationFrameCallback=this.onRequestAnimationFrame.bind(this),this.onRequestAnimationFrameCallback()},onRequestAnimationFrame:function(){const e=n()-this.onRequestAnimationFrameTimestamp;e>i.BOUNCE_TIME_DIFFERENCE&&this.logBounce(e),this.onRequestAnimationFrameTimestamp=n(),window.requestAnimationFrame(this.onRequestAnimationFrameCallback)},onPostRender:function(){window.innerWidth<=1||window.innerHeight<=1||(this.app&&(this.app.events?this.app.events.off("postrender",this.onPostRender,this):this.app.off("postrender",this.onPostRender,this)),this.logFrame())},onFirstFrame:function(){window.innerWidth<=1||window.innerHeight<=1?window.requestAnimationFrame(this.onFirstFrameCallback):this.logFrame()},logEvent:function(e,t,o){return this.injectIronSourceAdData(),this.injectVungleAdData(),this.injectMintegralAdData(),this.totalEvents++,new Promise(((s,a)=>{try{this.env.screenWidth=window.innerWidth,this.env.screenHeight=window.innerHeight;let r=Object.assign({},this.env);const d=n();this.app&&this.app.counters&&(r=Object.assign(r,this.app.counters.getSnapshot()));let c=this.timestamps.default;if(0===e.indexOf(i.SYSTEM_EVENT_NAME_PREFIX)&&(c=this.timestamps.system),r.timestamp=d-c.timestamp,r.timedelta=d-c.previousTimestamp,r.eventName=e,t&&(c.previousTimestamp=d),e===i.FRAME_EVENT_NAME&&(this.frameTimestamp=d),r.timestampSinceFrame=Math.max(-1,d-this.frameTimestamp),o&&(r=Object.assign(r,o)),r.seqNo=this.incrementSequenceNumber(e),!this.validateEventLimits(e))return;if(this.statsUrl){const e=JSON.stringify(r),t=n();this.displayEvents()&&console.log("Ï€: Logging event "+e+" to "+this.statsUrl),fetch(this.statsUrl,{method:"POST",mode:"no-cors",body:e}).then((()=>{this.displayEvents()&&console.log("Ï€: Event delivered!"),window.pi.env.lastPing=n()-t|0,s()}),(e=>{console.warn("Ï€: Event failed at dilvery: "+e),a(e)}))}else this.displayEvents()&&console.log("Ï€: Not logging event "+e+" as no endpoint URL is provided!"),s()}catch(e){console.warn("Ï€: Exception during submitting the event: "+e),a(e)}}))},displayEvents:function(){return window.hasOwnProperty("DEBUG")&&DEBUG||window.hasOwnProperty("TESTS")&&TESTS},logLoad:function(){this.logEvent(i.LOAD_EVENT_NAME,!0,null)},logLoaded:function(){this.logEvent(i.LOADED_EVENT_NAME,!0,null)},logStarting:function(){this.logEvent(i.STARTING_EVENT_NAME,!0,null)},logStarted:function(){this.logEvent(i.STARTED_EVENT_NAME,!0,null),window.UnityEngine||(this.onFirstFrameCallback=this.onFirstFrame.bind(this),window.requestAnimationFrame(this.onFirstFrameCallback)),this.performanceSampleInterval=this.performanceSampleInterval||setInterval(this.logSample.bind(this),i.PERFORMANCE_SAMPLE_INTERVAL)},logInteraction:function(e){this.logEvent(i.INTERACTION_EVENT_NAME,!0,null)},logCta:function(){this.logEvent(i.CTA_EVENT_NAME,!0,null),this.startWatchingBounce()},logSample:function(){this.logEvent(i.SAMPLE_EVENT_NAME,!1,null)},logBounce:function(e){this.logEvent(i.BOUNCE_EVENT_NAME,!0,{timedelta:e})},logFrame:function(){this.logEvent(i.FRAME_EVENT_NAME,!0,null)},logGameEnd:function(){this.logEvent(i.GAME_END_EVENT_NAME,!1,null)},logCustomEvent:function(e,t){return e=i.CUSTOM_EVENT_NAME_PREFIX+e,this.logEvent(e,!1,{intParameter:t||0})},isEventLogged:function(e,t){return!!this.eventSequenceNumbers.hasOwnProperty(e)&&this.eventSequenceNumbers[e]>=t},injectIronSourceAdData:function(){if(!this.env.impressionId&&window.dapi)try{const e=dapi.getAdData();this.env.impressionId=e.UII,this.env.creativeId=e.creativeId||"",this.env.campaignId=e.campaignId||"",e.productType===i.IRON_SOURCE_PRODUCT_TYPE_REWARDED_VIDEO?this.env.isRewarded=i.IS_REWARDED_TRUE:e.productType===i.IRON_SOURCE_PRODUCT_TYPE_INTERSTITIAL&&(this.env.isRewarded=i.IS_REWARDED_FALSE)}catch(e){}},injectVungleAdData:function(){if(this.env.adNetwork===i.VUNGLE_AD_NETWORK_NAME&&window.VungleHelper)try{!0===window.VungleHelper.rewardedAd?this.env.isRewarded=i.IS_REWARDED_TRUE:!1===window.VungleHelper.rewardedAd&&(this.env.isRewarded=i.IS_REWARDED_FALSE)}catch(e){}},injectMintegralAdData:function(){if(this.env.adNetwork===i.MINTEGRAL_AD_NETWORK_NAME&&window.MW_INIT)try{const e=window.MW_INIT.isRewardAds();!0===e?this.env.isRewarded=i.IS_REWARDED_TRUE:!1===e&&(this.env.isRewarded=i.IS_REWARDED_FALSE)}catch(e){}},incrementSequenceNumber:function(e){return this.eventSequenceNumbers[e]=(this.eventSequenceNumbers[e]||0)+1,this.eventSequenceNumbers[e]},validateEventLimits:function(e){return this.totalEvents>=i.MAX_EVENTS?(console.log("Ï€: Skipping event "+e+" - already logged "+i.MAX_EVENTS+" events during the session"),!1):!(this.eventSequenceNumbers[e]>i.MAX_SEQUENCE_NUMBER)||(console.log("Ï€: Skipping event "+e+" - already logged "+i.MAX_SEQUENCE_NUMBER+" events of that name"),!1)},subscribeToSystemEvents:function(){if(!1===window.__playgroundInsightsEnableSystemEvents)return;if(!0!==window.__playgroundInsightsEnableSystemEvents&&Math.random()>.1)return;this.logEvent("system.load",!1,{}),["DOMContentLoaded","luna:build","luna:start","luna:startup:bundlesLoad","luna:startup:loadSimpleAssetsAsync","luna:startup:shaderReady","luna:startup:loadComplexAssetsAsync","luna:startup:loadPrefabsAsync","luna:startup:loadScenesAsync","luna:started"].forEach((e=>{window.addEventListener(e,(()=>{this.logEvent("system."+e.toLowerCase(),!0,{})}))}))}}),window.pi=function(e,t,n,a,r,d,c,l,E){window.pi=new i(e,t,n,a,r,d,c,l,E),e===i.FACEBOOK_AD_NETWORK_NAME&&("undefined"!=typeof FbPlayableAd?(window.pi.logEvent=o,window.pi.logCustomEvent=s,FbPlayableAd.initializeLogging(r+"/facebook",["appId=",t,"&buildId=",n,"&signature=",a].join(""))):console.warn("FbPlayableAd is not defined")),window.pi.logLoad()}}(),window.Luna={Unity:{Playable:{},LifeCycle:{OnStart:function(){},OnDeviceData:function(){},GameEnded:function(){},HapticTriggered:function(){},OnMute:function(){},OnUnmute:function(){},OnPause:function(){},OnResume:function(){},OnResize:function(){},OnLevelLoad:function(){}},Analytics:{},Nucleo:{},Playground:{get:function(e,t,n,i){if(!window.playgroundOverrides||!window.playgroundOverrides.hasOwnProperty(e)||!window.playgroundOverrides[e].hasOwnProperty(t))return n;const o=window.playgroundOverrides[e][t],s=e=>{switch(e[0]){case"float":case"int":case"string":case"enum":return e[1];case"boolean":return!!e[1];case"vector2":case"vector3":case"vector4":return e.slice(1);case"color":if("rgba"===i){const t=(255*e[1]|0).toString(16),n=(255*e[2]|0).toString(16),i=(255*e[3]|0).toString(16),o=(255*e[4]|0).toString(16);return"#"+(t.length<2?"0":"")+t+(n.length<2?"0":"")+n+(i.length<2?"0":"")+i+(o.length<2?"0":"")+o}return e.slice(1);case"float[]":case"int[]":case"string[]":case"enum[]":case"boolean[]":case"vector2[]":case"vector3[]":case"vector4[]":case"color[]":return e.slice(1).map((t=>s([e[0].replace("[]",""),...[t].flat()])));default:return null}};return s(o)}}}},window.Bridge={ready:function(e){e()}},window.addEventListener("DOMContentLoaded",(()=>{window.dispatchEvent(new Event("luna:ready"))}))</script><script>!function(){function e(){dapi.removeEventListener("ready",e);dapi.getScreenSize(),dapi.getAudioVolume();dapi.addEventListener("viewableChange",n),dapi.addEventListener("audioVolumeChange",i),dapi.isViewable()&&window.dispatchEvent(new Event("luna:start"))}function n(e){window.dispatchEvent(new Event(e.isViewable?"luna:resume":"luna:pause"))}function i(e){window.dispatchEvent(e?new Event("luna:unsafe:unmute"):new Event("luna:unsafe:mute"))}window.addEventListener("luna:started",(function(){i(dapi.getAudioVolume())})),window.addEventListener("luna:build",(function(){window.pi.logLoaded(),"undefined"!=typeof dapi?dapi.isReady()?e():dapi.addEventListener("ready",e):window.dispatchEvent(new Event("luna:start"))}))}()</script><script>window.pi.apply(window,["ironsource",71909,2491594,"5caf2816b47fafa316d1321ca85efae19443846b4d27fcc0246360e470116b72","https://collector.lunalabs.io/api/v1/stats/collect",null,3000,500,null]||[])</script><script>window.LUCID = "LPG-2FH1-BE1",window.playgroundOverrides = {"NumberAttribute":{"numberAttribute:.content-frame[data-anchor-portrait]":["enum",0],"numberAttribute:.content-frame[data-anchor-landscape]":["enum",0],"numberAttribute:.content-frame[data-fit-fill-portrait]":["float",1],"numberAttribute:.content-frame[data-fit-fill-landscape]":["float",1],"numberAttribute:[data-filler-type]":["enum",2],"numberAttribute:.portrait-only[data-aspect-aware]":["enum",0],"numberAttribute:.landscape-only[data-aspect-aware]":["enum",0],"numberAttribute:.content-frame[advanced-fitting]":["boolean",0],"numberAttribute:.content-frame[data-fit-fill-portrait-iphoneX]":["float",0],"numberAttribute:.content-frame[data-fit-fill-portrait-iphone6]":["float",0],"numberAttribute:.content-frame[data-fit-fill-portrait-ipad]":["float",0],"numberAttribute:.content-frame[data-fit-fill-landscape-iphoneX]":["float",0],"numberAttribute:.content-frame[data-fit-fill-landscape-iphone6]":["float",0],"numberAttribute:.content-frame[data-fit-fill-landscape-ipad]":["float",0],"numberAttribute:.end-card[data-type]":["enum",3],"numberAttribute:.end-card button[data-nine-patch-stops]":["enum",0],"numberAttribute:.end-card[data-cta]":["boolean",1],"numberAttribute:.end-card .icon[data-absolute-position]":["boolean",0],"numberAttribute:.end-card .cta-button-container[data-absolute-position]":["boolean",0],"numberAttribute:.end-card img.background.portrait-only[data-aspect-aware]":["enum",0],"numberAttribute:.end-card img.background.landscape-only[data-aspect-aware]":["enum",0],"numberAttribute:body[aggro-mode-clicks-to-store]":["int",10],"numberAttribute:body[aggro-mode-end-card-is-store]":["boolean",0],"numberAttribute:#asset/tap-hint[data-flip]":["enum",0],"numberAttribute:#asset/tap-hint[data-speed]":["float",1],"numberAttribute:body[data-low-power-preview]":["boolean",0],"numberAttribute:.banner p[data-cta]":["boolean",0],"numberAttribute:video[data-muted]":["boolean",0],"numberAttribute:body[soundtrack-variant]":["enum",0],"numberAttribute:body[data-play-start-time]":["float",0],"numberAttribute:body[data-loop-start-time]":["float",0],"numberAttribute:body[data-loop-end-time]":["float",0.9],"numberAttribute:body[data-skip-loop]":["boolean",1]},"BackgroundFilter":{"backgroundFilter:.background .filterableType":["enum",0],"backgroundFilter:.background .filterableStrength":["float",0]},"FlexAlignment":{"flexAlignment:.end-card .layout":["enum",1]},"InnerText":{"innerText:.end-card span":["string","A simple yet captivating game ahead"],"innerText:.end-card button span.button-text":["string",""],"innerText:#asset/tap-hint + span":["string",""],"innerText:.banner p":["string",""]},"StyleProperty":{"styleProperty:.end-card button:animationName":["enum",1],"styleProperty:.end-card button.nine-patch:padding":["vector2",0.75,1.5],"styleProperty:.end-card span:fontSize":["float",1],"styleProperty:.end-card span:color":["color",0.5,0.5,0.5,1],"styleProperty:.end-card button span.button-text:fontSize":["float",1],"styleProperty:.end-card button span.button-text:color":["color",1,1,1,1],"styleProperty:.end-card .icon:borderRadius":["float",0],"styleProperty:.end-card .icon:portrait:--icon-height":["float",7],"styleProperty:.end-card .icon:landscape:--icon-height":["float",7],"styleProperty:.end-card .icon[data-absolute-position]:portrait:--absolute-position-x":["float",0],"styleProperty:.end-card .icon[data-absolute-position]:portrait:--absolute-position-y":["float",0],"styleProperty:.end-card .icon[data-absolute-position]:landscape:--absolute-position-x":["float",0],"styleProperty:.end-card .icon[data-absolute-position]:landscape:--absolute-position-y":["float",0],"styleProperty:.end-card .cta-button-container[data-absolute-position]:portrait:--absolute-position-x":["float",0],"styleProperty:.end-card .cta-button-container[data-absolute-position]:portrait:--absolute-position-y":["float",0],"styleProperty:.end-card .cta-button-container[data-absolute-position]:landscape:--absolute-position-x":["float",0],"styleProperty:.end-card .cta-button-container[data-absolute-position]:landscape:--absolute-position-y":["float",0],"styleProperty:.end-card:display":["boolean",1],"styleProperty:#asset/tap-hint:portrait:width":["float",0],"styleProperty:#asset/tap-hint:landscape:width":["float",0],"styleProperty:.tap-hint-container:portrait:--offset-left":["float",0],"styleProperty:.tap-hint-container:portrait:--offset-bottom":["float",0],"styleProperty:.tap-hint-container:landscape:--offset-left":["float",0],"styleProperty:.tap-hint-container:landscape:--offset-bottom":["float",0],"styleProperty:#asset/tap-hint + span:color":["color",1,1,1,1],"styleProperty:#asset/tap-hint + span:portrait:font-size":["float",1],"styleProperty:#asset/tap-hint + span:landscape:font-size":["float",1],"styleProperty:#asset/tap-hint + span:portrait:transform":["float",3],"styleProperty:#asset/tap-hint + span:landscape:transform":["float",3],"styleProperty:#asset/tap-hint:*:--rotate":["float",0],"styleProperty:.tap-hint-container .overlay:portrait:--offset-left":["float",0],"styleProperty:.tap-hint-container .overlay:portrait:--offset-bottom":["float",0],"styleProperty:.tap-hint-container .overlay:landscape:--offset-left":["float",0],"styleProperty:.tap-hint-container .overlay:landscape:--offset-bottom":["float",0],"styleProperty:.tap-hint-container .overlay:portrait:--size":["float",2],"styleProperty:.tap-hint-container .overlay:landscape:--size":["float",2],"styleProperty:.tap-hint-container .overlay:*:--color":["color",0,0,0,0],"styleProperty:.tap-hint-container .button:*:--size":["float",2],"styleProperty:#asset/low-power:object-fit":["enum",0],"styleProperty:.banner p:color":["color",1,1,1,1],"styleProperty:.banner p:portrait:font-size":["float",1],"styleProperty:.banner p:landscape:font-size":["float",1],"styleProperty:.banner p:transform":["float",0],"styleProperty:.banner p:backgroundColor":["color",0,0,0,0.55],"styleProperty:.end-card:backgroundColor":["color",0,0,0,0]},"BoxShadow":{"boxShadow:.end-card .iconColor":["color",0,0,0,1],"boxShadow:.end-card .iconBlur":["float",0]},"ApperanceAnimation":{"apperanceAnimation:.end-cardType":["enum",1],"apperanceAnimation:.end-cardDuration":["float",0.25]}}; window.playgroundAssetOverrides = {"end-card-background":"https://assets.lunalabs.io/uploads/media/file/54784/1b879e5c02c933bbdbdad93ab3d45b8e/fec80871375b72dadb5e116798dfbdcc0bd07c5dc1f9925e65d9621f2115fc7c.png","cta-button":"https://assets.lunalabs.io/uploads/media/file/13295/0f2af33aac728e38046b116c83114b95/10448bd35fb556815202f025fc855c0fa531c0e065830cf812ac6d695908695f.png","background-video-portrait":"https://assets.lunalabs.io/uploads/media/file/54851/e453c5ab6971a2661b7167466d8af3be/313940fe3e4f9a3f4cabc72523e21dba35cef545aaa65476f3dcc21274214188.mp4"},window.LUNA_PLAYGROUND_BUNDLES</script><script>window.$environment={baseUrl:"https://assets.lunalabs.io/cdn/fb85e7e63b04ba182a9d8273f2daebfc/data/",resourceConfig:{json:"inline",image:"inline",video:"inline",sound:"compress",blob:"compress"},packageConfig:Object.assign({appID:"",assetID:"",applicationGenre:"",versionName:"",apiType:0,playableMode:0,packageType:1,applicationName:"",iosLink:"",androidLink:"",orientation:"unspecified",supportedLanguages:["en"]},{"iosLink":"https://apps.apple.com/app/id1617250285","androidLink":"https://play.google.com/store/apps/details?id=com.warrior.officebuilding.gp"}||{}),playerPrefs:!0,usingWebWorkers:"off",targetPlatform:"ironsource",runtimeAnalysisModules:["physics3d","physics2d","particle_system","reflection","prefabs"]}</script><script id="LUNA_PLAYGROUND_BUNDLES" src="https://assets.lunalabs.io/cdn/947d0594c07d7e54a069651de92c0cad/data/js/bundle_overrides.js"></script><meta charset="utf-8"><meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1"><meta name="luna-template-name" content="tap-to-unloop"><meta name="luna-template-version" content="0646908"><script>window.$luna_template = { name: 'tap-to-unloop' };
function resetBrokenImage() {
    const blankImage = 'data:image/png;base64,';
    if (blankImage !== this.src) {
        this.src = blankImage;
    }
}</script><script defer="defer">(()=>{var e={7572:e=>{e.exports={missingTemplates:[],missingStrings:[],missingLanguages:[]}},7097:e=>{e.exports={BACKGROUND_ANIMATIONS:[{value:"none",title:"No Animation"},{value:"scale-in-out",title:"Scale In-Out"},{value:"scroll-left-right",title:"Scroll Left-Right"},{value:"scroll-top-bottom",title:"Scroll Top-Bottom"}],BUTTON_ANIMATIONS:[{value:"none",title:"No Animation"},{value:"end-card-animation-pulse",title:"Pulse"},{value:"end-card-animation-wobble",title:"Wobble"},{value:"end-card-animation-scale",title:"Scale"},{value:"end-card-animation-opacity",title:"Opacity"}]}},1474:e=>{e.exports={SCALE_STRATEGIES:[{value:0,title:"Keep aspect, fill"},{value:1,title:"Keep aspect, fit"},{value:2,title:"Ignore aspect, fill"}]}},24:e=>{e.exports={CONTENT_FRAME_ANCHORS:[{title:"Middle",value:4},{title:"Top Left",value:0},{title:"Top Middle",value:1},{title:"Top Right",value:2},{title:"Middle Left",value:3},{title:"Middle Right",value:5},{title:"Bottom Left",value:6},{title:"Bottom Middle",value:7},{title:"Bottom Right",value:8}]}},3314:e=>{e.exports={NINE_PATCH_STOPS:[{value:[.3,.7,.3,.7],title:"9 Patch Image"},{value:[.5,.5,.5,.5],title:"Static Image"}]}},3622:(e,t,n)=>{const o=n(3269),a=n(3296),i=n(7792),r=n(4435),s=n(7051),d=n(7299),l=n(1995),u=n(1228),c=n(7572),p=n(1846),m={apperanceAnimation:d,numberAttribute:s,backgroundFilter:a,flexAlignment:i,innerText:r,asset:o,styleProperty:l,boxShadow:u};function f(e,t){e.forEach((e=>{Object.entries(e).forEach((e=>{const[n,o]=e;(Array.isArray(o)?o.flatMap((e=>Object.entries(e))):Object.entries(o)).forEach((([e,o])=>{const a="!"===n[n.length-1],i=a?n.slice(0,n.length-1):n;t(i,e,o,a)}))}))}))}function h(e,t,n){const o=t.title.split(".")[0],a=t.title.split(".")[1];let i;try{i=e[o][a]}catch(e){}i?(i.title&&(t.localized_field_title=i.title,p.unity.packages.default.supportedLanguages.forEach((e=>{i.title[e]||(c.missingLanguages.push(`${t.title} ${e}`),console.log("[33mMissed key[89m",`[36m${t.title}[89m`,"[33min[89m",`[36m${e}[89m`,"[33mlanguage[89m"),console.log("[0m"))})),delete t.title),i.hint&&(t.localized_field_hint=i.hint)):c.missingStrings.includes(t.title)||(console.log("[33mMissed translations[89m",`[36m${t.title}[89m`,"[33min[89m",`[36m${n}[89m`,"[33mtemplate[89m"),console.log("[0m"),c.missingStrings.push(`${t.title} in ${n} template`))}e.exports={generateManifest:function(e,t,n,o,a){const i={title:e,icon:t,fields:{},assets:{},sections:o};return f(n,((e,t,n,o)=>{const a=m[e],r=`${e}:${t}`,s=a.generateManifest(r,t,n,o),{target:d}=a;Object.keys(s).forEach((e=>{i[d][e]=Object.assign(i[d][e]||{},s[e])}))})),a&&(Object.keys(i.assets).forEach((e=>{h(a,i.assets[e],i.title)})),Object.keys(i.fields).forEach((e=>{Object.keys(i.fields[e]).forEach((t=>{h(a,i.fields[e][t],i.title)}))}))),i},apply:function(e){f(e,((e,t,n)=>{const o=`${e}:${t}`;m[e].apply(o,t,n)}))}}},7299:(e,t,n)=>{const{forEachElement:o}=n(3139),a="ApperanceAnimation",i={0:"Opacity",1:"Slide Up",2:"Slide Down",3:"Slide Left",4:"Slide Right"},r=["opacity","slide-up","slide-down","slide-left","slide-right"];e.exports={name:a,target:"fields",generateManifest:function(e,t,[n,o,r,s,d],l){return{[a]:{[`${e}Type`]:{title:`${r}-type`,type:"enum",defaultValue:s,section:o,order:n,localization:0,options:i,live:l},[`${e}Duration`]:{title:`${r}-duration`,type:"float",defaultValue:d,section:o,order:n,localization:0,options:{},live:l}}}},apply:function(e,t){o(t,(t=>{const n=Luna.Unity.Playground.get(a,`${e}Duration`),o=Luna.Unity.Playground.get(a,`${e}Type`,0);t.setAttribute("data-appearance-animation",r[o]),t.style.transitionDuration=`${n}s`}))}}},3269:e=>{e.exports={name:"asset",target:"assets",generateManifest:function(e,t,[n,o,a,i],r){return{[e]:{id:t.split("/")[1],title:i,type:o,section:a,order:n,live:r}}},apply:function(){}}},3296:(e,t,n)=>{const{forEachElement:o}=n(3139),a="BackgroundFilter",i={0:"No Filter",1:"Opacity",2:"Blur",3:"Grayscale"};e.exports={name:a,target:"fields",generateManifest:function(e,t,[n,o,r,s,d],l){return{[a]:{[`${e}Type`]:{title:`${r}-type`,type:"enum",defaultValue:s,section:o,order:n,localization:0,options:i,live:l},[`${e}Strength`]:{title:`${r}-strength`,type:"float",defaultValue:d,section:o,order:n,localization:0,options:{},constraints:{value_min:0,value_max:1},live:l}}}},apply:function(e,t){o(t,(t=>{const n=Luna.Unity.Playground.get(a,`${e}Strength`),o=Luna.Unity.Playground.get(a,`${e}Type`);if(0!==o){const e=["","opacity","blur","grayscale"],a=["","","em",""];t.style.filter=`${e[o]}(${n}${a[o]})`}}))}}},1228:(e,t,n)=>{const{forEachElement:o,normalizedColorToRGBA:a}=n(3139),i="BoxShadow";e.exports={name:i,target:"fields",generateManifest:function(e,t,[n,o,a,r,s],d){return{[i]:{[`${e}Color`]:{title:`${a}-color`,type:"color",defaultValue:r,section:o,order:n,localization:0,options:{},live:d},[`${e}Blur`]:{title:`${a}-spread`,type:"float",defaultValue:s,section:o,order:n,localization:0,options:{},live:d}}}},apply:function(e,t){o(t,(t=>{const n=Luna.Unity.Playground.get(i,`${e}Blur`),o=Luna.Unity.Playground.get(i,`${e}Color`);t.style.boxShadow=`${a(o)} 0 0 ${n}rem`}))}}},7792:(e,t,n)=>{const{forEachElement:o}=n(3139),a="FlexAlignment",i={0:"Top",1:"Middle",2:"Bottom"},r=["start","center","end"];e.exports={name:a,target:"fields",generateManifest:function(e,t,[n,o,r,s],d){return{[a]:{[e]:{title:r,type:"enum",defaultValue:s,section:o,order:n,localization:0,options:i,live:d}}}},apply:function(e,t){o(t,(t=>t.setAttribute("data-align",r[Luna.Unity.Playground.get(a,e)])))}}},4435:(e,t,n)=>{const{forEachElement:o}=n(3139),a="InnerText";e.exports={name:a,target:"fields",generateManifest:function(e,t,[n,o,i,r,s],d){return{[a]:{[e]:{title:i,type:"string",defaultValue:r,section:o,order:n,localization:0,options:{},live:d}}}},apply:function(e,t,[n,i,r,s,d]){o(t,(t=>{const n=Luna.Unity.Playground.get(a,e);if(n&&n.length>0){const e=document.createElement("span");e.innerText=n,t.innerHTML=(d||"$").replace("$",e.innerHTML)}else t.innerText=""}))}}},7051:(e,t,n)=>{const{forEachElement:o}=n(3139),{enumOptionsToPlaygroundOptions:a,getEnumValue:i}=n(8080),r="NumberAttribute";e.exports={name:r,target:"fields",generateManifest:function(e,t,[n,o,i,s,d,l,u],c){const p="enum"===s?(l||[]).findIndex((({value:e})=>d===e)):d,m={};return u&&(3===u.length?[m.value_min,m.value_max,m.value_step]=u:[m.value_min,m.value_max]=u),{[r]:{[e]:{title:i,type:s,defaultValue:p,section:o,order:n,localization:0,options:a(l||[]),constraints:m,live:c}}}},apply:function(e,t,[n,a,s,d,l,u]){const c=t.match(/\[(.+)\]$/)[1];o(t,(t=>{const n=Luna.Unity.Playground.get(r,e),o="enum"===d?i(n,u):n;t.setAttribute(c,o),"boolean"===d?t.setAttribute(c,o?1:0):t.setAttribute(c,o)}))}}},1995:(e,t,n)=>{const{forEachElement:o,normalizedColorToRGBA:a}=n(3139),{enumOptionsToPlaygroundOptions:i,getEnumValue:r}=n(8080),s="StyleProperty",d={display:[{value:"none"},{value:"inherit"}],opacity:[{value:0},{value:1}]},l=/:(portrait|landscape|\*)$/g;e.exports={name:s,target:"fields",generateManifest:function(e,t,[n,o,a,r,d,l,u,c],p){const m=`${e}:${l}`;let f={};"enum"===d&&(f=i(u));const h={};return c&&(3===c.length?[h.value_min,h.value_max,h.value_step]=c:[h.value_min,h.value_max]=c),{[s]:{[m]:{title:a,type:d,defaultValue:r,section:o,order:n,localization:0,options:f,constraints:h,live:p}}}},apply:function(e,t,[n,i,u,c,p,m,f]){const h=`${e}:${m}`;f=f||d[m];const _="enum"===p||"boolean"===p?"$":f||"$",g=Luna.Unity.Playground.get(s,h,"");let y=g;"boolean"===p&&(y=g?1:0);const v="enum"===p||"boolean"===p?r(y,f):y;if(t.match(l)){const e="color"===p?a(v):v;!function(e,t,n,o){let a=null;e.indexOf(":portrait")>=0?a="@media only screen and (orientation: portrait)":e.indexOf(":landscape")>=0&&(a="@media only screen and (orientation: landscape)"),e=e.replace(l,"").replace(/\//g,"\\/"),Array.isArray(t)||(t=[t],n=[n]),Array.isArray(o)||(o=[o]);const i=t.map(((t,a)=>`${e} { ${t}: ${o[a%o.length].replace("$",n[a])} !important; }`)),r=a?[a,"{",...i,"}"].join("\n"):i.join("\n"),s=document.createElement("style");s.type="text/css",s.innerHTML=r,s.setAttribute("data-playground","field"),document.head.appendChild(s)}(t,m,e,_)}else o(t,(e=>{if(Array.isArray(m))m.forEach(((t,n)=>e.style[t]=_.replace("$",v[n])));else{const t="color"===p?a(v):v;Array.isArray(_)?e.style[m]=_.map(((e,n)=>e.replace("$",t[n]))).join(" "):e.style[m]=_.replace("$",t)}}))}}},5434:e=>{e.exports=[{numberAttribute:{"body[aggro-mode-clicks-to-store]":[0,"App Store Controls","aggro-mode.click-number-to-open-store","int",10],"body[aggro-mode-end-card-is-store]":[1,"App Store Controls","aggro-mode.open-store-with-end-card","boolean",0]}}]},4704:(e,t,n)=>{const{CONTENT_FRAME_ANCHORS:o}=n(24),{SCALE_STRATEGIES:a}=n(1474),i=[0,1,.01];e.exports=[{asset:{"asset/background-video-portrait":[0,"videoclip","Video","background.video"]}},{"numberAttribute!":{".content-frame[data-anchor-portrait]":[1,"Video","background.video-anchor","enum",4,o],".content-frame[data-anchor-landscape]":[2,"Video","background.video-anchor-landscape","enum",4,o],".content-frame[data-fit-fill-portrait]":[3,"Video","background.video-fit-fill","float",0,null,i],".content-frame[data-fit-fill-landscape]":[4,"Video","background.video-fit-fill-landscape","float",0,null,i]}},{"numberAttribute!":{"[data-filler-type]":[0,"Background","background.video-filler","enum","animated",[{value:"none",title:"No filler"},{value:"static",title:"Blurred 1st frame"},{value:"animated",title:"Blurred video"}]]}},{asset:{"asset/background-image-portrait":[1,"texture","Background","background.image"],"asset/background-image-landscape":[2,"texture","Background","background.image-landscape"]}},{"numberAttribute!":{".portrait-only[data-aspect-aware]":[3,"Background","background.image-scaling","enum",0,a],".landscape-only[data-aspect-aware]":[4,"Background","background.image-scaling-landscape","enum",0,a]}},{"backgroundFilter!":{".background .filterable":[0,"Advanced Settings","background.content-filter",0,0]}},{"numberAttribute!":{".content-frame[advanced-fitting]":[15e3,"Advanced Settings","background.enable-advanced-fitting","boolean",0],".content-frame[data-fit-fill-portrait-iphoneX]":[15001,"Advanced Settings","background.video-fit-fill-for-iphonex","float",0,null,i],".content-frame[data-fit-fill-portrait-iphone6]":[15002,"Advanced Settings","background.video-fit-fill-for-iphone-6-7-8","float",0,null,i],".content-frame[data-fit-fill-portrait-ipad]":[15003,"Advanced Settings","background.video-fit-fill-for-ipad","float",0,null,i],".content-frame[data-fit-fill-landscape-iphoneX]":[15004,"Advanced Settings","background.video-fit-fill-landscape-for-iphonex","float",0,null,i],".content-frame[data-fit-fill-landscape-iphone6]":[15005,"Advanced Settings","background.video-fit-fill-landscape-for-iphone-6-7-8","float",0,null,i],".content-frame[data-fit-fill-landscape-ipad]":[15006,"Advanced Settings","background.video-fit-fill-landscape-for-ipad","float",0,null,i]}}]},4227:e=>{e.exports=[{"innerText!":{".banner p":[0,"Banner","banner.text","",'<span data-cta="0">$</span>']}},{"styleProperty!":[{".banner p":[1,"Banner","banner.text-color",[1,1,1,1],"color","color"]},{".banner p:portrait":[2,"Banner","banner.font-size",1,"float","font-size","$em"]},{".banner p:landscape":[2,"Banner","banner.font-size-landscape",1,"float","font-size","$em"]},{".banner p":[3,"Banner","banner.vertical-offset",0,"float","transform","translateY(calc((100vh - 100%) * $))",[0,1,.01]]},{".banner p":[4,"Banner","banner.background-color",[0,0,0,.55],"color","backgroundColor"]}]},{"numberAttribute!":{".banner p[data-cta]":[5,"Banner","banner.click-goes-to-app-store","boolean",0]}}]},3359:e=>{e.exports=(e={})=>{const t=[{"asset!":{"asset/default-font":[1e3,"font","Advanced Settings","default-font.default-font"],"asset/cta-font":[1001,"font","Advanced Settings","default-font.cta-button-font"]}}];return e.footer&&t.push({"asset!":{"asset/footer-font":[1002,"font","Advanced Settings","default-font.footer-font"],"asset/header-font":[1003,"font","Advanced Settings","default-font.title-font"]}}),t}},1554:(e,t,n)=>{const{BUTTON_ANIMATIONS:o}=n(7097),{NINE_PATCH_STOPS:a}=n(3314),{SCALE_STRATEGIES:i}=n(1474),r=[{value:"full",title:"Icon, Description and Button"},{value:"icon",title:"Icon and Button"},{value:"description",title:"Description and Button"},{value:"none",title:"Button Only"}];e.exports=function(e,t=!0,n=!0){const s=[{"numberAttribute!":{[`${e}[data-type]`]:[0,"End Card","end-card.type","enum",r[0].value,r]}},{"flexAlignment!":{[`${e} .layout`]:[10,"End Card","end-card.alignment",1]}},{"asset!":{"asset/app-icon":[20,"texture","End Card","end-card.icon"]}},{"innerText!":{[`${e} span`]:[30,"End Card","end-card.description","A simple yet captivating game ahead"],[`${e} button span.button-text`]:[40,"End Card","end-card.call-to-action","Play now!"]}},{"numberAttribute!":{[`${e} button[data-nine-patch-stops]`]:[50,"End Card","end-card.button-image-type","enum",a[0].value,a]}},{"asset!":{"asset/cta-button":[60,"texture","End Card","end-card.button-image"]}},{"styleProperty!":[{[`${e} button`]:[0,"Advanced Settings","end-card.end-card-button-animation",1,"enum","animationName",o]},{[`${e} button.nine-patch`]:[0,"Advanced Settings","end-card.end-card-button-paddings",[.75,1.5],"vector2","padding",["$rem","$rem"]]}]},{"styleProperty!":[{[`${e} span`]:[10,"Advanced Settings","end-card.end-card-description-font-size",1,"float","fontSize","$em"]},{[`${e} span`]:[20,"Advanced Settings","end-card.end-card-description-text-color",[.5,.5,.5,1],"color","color"]},{[`${e} button span.button-text`]:[30,"Advanced Settings","end-card.end-card-call-to-action-font-size",1,"float","fontSize","$em"]},{[`${e} button span.button-text`]:[40,"Advanced Settings","end-card.end-card-call-to-action-font-color",[1,1,1,1],"color","color"]}]},{"styleProperty!":{[`${e} .icon`]:[50,"Advanced Settings","end-card.end-card-icon-corner-radius",0,"float","borderRadius","$%"]}},{"boxShadow!":{[`${e} .icon`]:[60,"Advanced Settings","end-card.end-card-icon-shadow",[0,0,0,1],0]}},{numberAttribute:{[`${e}[data-cta]`]:[3,"App Store Controls","end-card.whole-end-card-is-clickable","boolean",1]}},{"styleProperty!":[{[`${e} .icon:portrait`]:[1e4,"Advanced Settings","end-card.icon-size",7,"float","--icon-height","$rem"]},{[`${e} .icon:landscape`]:[11e3,"Advanced Settings","end-card.icon-size-landscape",7,"float","--icon-height","$rem"]}]},{"numberAttribute!":{[`${e} .icon[data-absolute-position]`]:[5e3,"Advanced Settings","end-card.free-icon-position","boolean",0],[`${e} .cta-button-container[data-absolute-position]`]:[6e3,"Advanced Settings","end-card.free-button-position","boolean",0]}},{"styleProperty!":[{[`${e} .icon[data-absolute-position]:portrait`]:[5010,"Advanced Settings","end-card.horizontal-icon-position",0,"float","--absolute-position-x","$",[0,1,.01]]},{[`${e} .icon[data-absolute-position]:portrait`]:[5020,"Advanced Settings","end-card.vertical-icon-position",0,"float","--absolute-position-y","$",[0,1,.01]]},{[`${e} .icon[data-absolute-position]:landscape`]:[5030,"Advanced Settings","end-card.horizontal-icon-position-landscape",0,"float","--absolute-position-x","$",[0,1,.01]]},{[`${e} .icon[data-absolute-position]:landscape`]:[5040,"Advanced Settings","end-card.vertical-icon-position-landscape",0,"float","--absolute-position-y","$",[0,1,.01]]},{[`${e} .cta-button-container[data-absolute-position]:portrait`]:[6010,"Advanced Settings","end-card.horizontal-button-position",0,"float","--absolute-position-x","$",[0,1,.01]]},{[`${e} .cta-button-container[data-absolute-position]:portrait`]:[6020,"Advanced Settings","end-card.vertical-button-position",0,"float","--absolute-position-y","$",[0,1,.01]]},{[`${e} .cta-button-container[data-absolute-position]:landscape`]:[6030,"Advanced Settings","end-card.horizontal-button-position-landscape",0,"float","--absolute-position-x","$",[0,1,.01]]},{[`${e} .cta-button-container[data-absolute-position]:landscape`]:[6040,"Advanced Settings","end-card.vertical-button-position-landscape",0,"float","--absolute-position-y","$",[0,1,.01]]}]}];return n&&s.push({"styleProperty!":{".end-card":[70,"End Card","end-card.show-end-card",1,"boolean","display"]}}),t&&s.push({asset:{"asset/end-card-background":[80,"texture","End Card","end-card.background-image"],"asset/end-card-background-landscape":[90,"texture","End Card","end-card.background-image-landscape"]},"numberAttribute!":{".end-card img.background.portrait-only[data-aspect-aware]":[100,"End Card","end-card.background-image-scaling","enum",0,i],".end-card img.background.landscape-only[data-aspect-aware]":[110,"End Card","end-card.background-image-scaling-landscape","enum",0,i]}}),s}},5071:e=>{e.exports=[{"asset!":{"asset/low-power":[1500,"texture","Advanced Settings","low-power.image"]}},{numberAttribute:{"body[data-low-power-preview]":[1550,"Advanced Settings","low-power.preview-mode-warning","boolean",0]}},{"styleProperty!":{"#asset/low-power":[1600,"Advanced Settings","low-power.content-filler",0,"enum","object-fit",[{value:"contain",title:"Contain"},{value:"cover",title:"Cover"}]]}}]},752:e=>{const t=[{value:"background",title:"Play Soundtrack"},{value:"endcard",title:"Play End Card Audio"},{value:"stop",title:"Stop Audio"}];e.exports=function(e={}){const n=[{asset:{"asset/soundtrack":[0,"audioclip","Soundtrack","soundtrack.soundtrack-audio"]}},{numberAttribute:{"video[data-muted]":[10,"Soundtrack","soundtrack.mute-video","boolean",0]}}];return e.endCard&&(n.push({asset:{"asset/endcard-soundtrack":[20,"audioclip","Soundtrack","soundtrack.end-card-audio"]}}),n.push({numberAttribute:{"body[soundtrack-variant]":[50,"Soundtrack","soundtrack.end-card-playback","enum",t[0].value,t]}})),n}},7020:e=>{const t=["--offset-left","--offset-bottom"],n=["calc(var(--content-frame-width) * $)","calc(var(--content-frame-height) * $)"],o=[{value:0,title:"No flip"},{value:1,title:"Flip horizontally"},{value:2,title:"Flip vertically"},{value:3,title:"Flip horizontally & vertically"}],a=[-.5,.5,.001],i=[0,2,.01],r=[-17,17,.01];e.exports=function(e,s="Tap Hint",d=null){const[l,u]=e.split(","),c=e=>[d,e].filter((e=>e)).join("");return[{"asset!":{[u]:[0,"texture",s,c("tap-hint.image")]}},{"styleProperty!":[{[`#${u}:portrait`]:[1,s,c("tap-hint.size"),50,"float","width","calc($ * 0.01 * var(--content-frame-width))"],[`#${u}:landscape`]:[1,s,c("tap-hint.size-landscape"),50,"float","width","calc($ * 0.01 * var(--content-frame-width))"]}]},{"styleProperty!":[{[`${l}:portrait`]:[2,s,c("tap-hint.horizontal-offset"),0,"float",t[0],n[0],a]},{[`${l}:portrait`]:[2,s,c("tap-hint.vertical-offset"),0,"float",t[1],n[1],a]},{[`${l}:landscape`]:[3,s,c("tap-hint.horizontal-offset-landscape"),0,"float",t[0],n[0],a]},{[`${l}:landscape`]:[3,s,c("tap-hint.vertical-offset-landscape"),0,"float",t[1],n[1],a]}]},{"innerText!":{[`#${u} + span`]:[4,s,c("tap-hint.text"),""]}},{"styleProperty!":[{[`#${u} + span`]:[5,s,c("tap-hint.text-color"),[1,1,1,1],"color","color"]},{[`#${u} + span:portrait`]:[6,s,c("tap-hint.font-size"),1,"float","font-size","$rem"]},{[`#${u} + span:landscape`]:[6,s,c("tap-hint.font-size-landscape"),1,"float","font-size","$rem"]},{[`#${u} + span:portrait`]:[7,s,c("tap-hint.vertical-text-offset"),3,"float","transform","translateX(calc(var(--offset-left) * -1)) translateY(calc(var(--offset-bottom) - $rem))",r]},{[`#${u} + span:landscape`]:[8,s,c("tap-hint.vertical-text-offset-landscape"),3,"float","transform","translateX(calc(var(--offset-left) * -1)) translateY(calc(var(--offset-bottom) - $rem))",r]}]},{"numberAttribute!":{[`#${u}[data-flip]`]:[9,s,c("tap-hint.flip"),"enum",o[0].value,o]}},{"styleProperty!":[{[`#${u}:*`]:[10,s,c("tap-hint.rotate"),0,"float","--rotate","$deg",[0,360,.1]]}]},{"styleProperty!":[{[`${l} .overlay:portrait`]:[20,s,c("tap-hint.horizontal-hole-offset"),0,"float",t[0],n[0],a]},{[`${l} .overlay:portrait`]:[20,s,c("tap-hint.vertical-hole-offset"),0,"float",t[1],n[1],a]},{[`${l} .overlay:landscape`]:[21,s,c("tap-hint.horizontal-hole-offset-landscape"),0,"float",t[0],n[0],a]},{[`${l} .overlay:landscape`]:[21,s,c("tap-hint.vertical-hole-offset-landscape"),0,"float",t[1],n[1],a]},{[`${l} .overlay:portrait`]:[22,s,c("tap-hint.hole-size"),2,"float","--size","$rem"]},{[`${l} .overlay:landscape`]:[22,s,c("tap-hint.hole-size-landscape"),2,"float","--size","$rem"]},{[`${l} .overlay:*`]:[23,s,c("tap-hint.overlay-color"),[0,0,0,0],"color","--color"]}]},{"styleProperty!":{[`${l} .button:*`]:[9,s,c("tap-hint.tap-radius"),2,"float","--size","$",i]}},{"numberAttribute!":[{[`#${u}[data-speed]`]:[24,s,c("tap-hint.speed"),"float",1,null,[.1,10,.1]]}]}]}},1742:()=>{window.addEventListener("element:enableStep",(e=>{if("end-card"===e.detail){"1"===document.body.getAttribute("aggro-mode-end-card-is-store")&&setTimeout((()=>Luna.Unity.Playable.InstallFullGame()),100)}}))},7989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AnimatedHint:()=>i,default:()=>r}),n(6837);const o=new window.APNG,a="hint-source";class i{constructor(e){this.element=e,this.imageVanilla=e.getElementsByClassName(a)[0].cloneNode(),this.image=e.getElementsByClassName(a)[0],this.convert(this.image),window.addEventListener("element:enableStep",(e=>{e.detail.includes("paused-on")&&this.animation&&(this.animation.rewind(),this.animation.play())})),this.addObserver()}addObserver(){this.observer=new MutationObserver((e=>{e.forEach((e=>{this.animation&&(this.animation.rate=e.target.dataset.speed)}))})),this.observer.observe(this.element,{attributes:!0,subtree:!0,attributeFilter:["data-speed"]})}refresh(){setTimeout((()=>{this.update()}),0)}async convert(e){if(this.isPng(e.src)){const t=await o.animateImage(e);t&&(t.rate=e.dataset.speed||1,this.animation=t)}else{this.imageVanilla.src=e.src;const t=e.parentNode;t.insertBefore(this.imageVanilla,e),t.removeChild(e)}}isPng(e){return e.indexOf(".png")>-1||e.indexOf("data:image/png")>-1}update(){const{src:e}=this.element.getElementsByClassName(a)[0];e&&e!==this.image.src&&(this.observer.disconnect(),this.image=this.element.getElementsByClassName(a)[0],this.convert(this.image),this.addObserver())}}const r=i},6837:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});class o{constructor(){this.hookmap={stop:[]},this.width=0,this.height=0,this.numPlays=0,this.actualPlays=0,this.playTime=0,this.frames=[],this.rate=1,this.nextRenderTime=0,this.fNum=0,this.prevF=null,this.played=!1,this.finished=!1,this.contexts=[],this.endFrame=-1,this.startFrame=0,this.beforeHook=void 0,this.afterHook=void 0,this.pauseNum=0,this.manualEndNum=-1,this.manualPlayNum=0}play(e=[]){this.played||this.finished||(this.rewind(),this.setFrameNum(e),this.played=!0,requestAnimationFrame((e=>{this.tick(e)})))}stop(){this.rewind(),this.hookmap.stop.forEach((e=>{e()}))}pause(e){null==e?(this.pauseNum=this.fNum,this.stop()):this.manualEndNum=e}start(e){this.fNum=this.pauseNum,null!=e&&(this.fNum=e),this.played=!0,requestAnimationFrame((e=>{this.tick(e)}))}before(e){this.beforeHook=e||null}after(e){this.afterHook=e||null}on(e,t){if(null!=t)switch(e){case"stop":this.hookmap.stop.push(t)}}rewind(){this.nextRenderTime=0,this.fNum=0,this.prevF=null,this.played=!1,this.finished=!1}setFrameNum(e){0!==e.length&&(this.startFrame=e[0],this.fNum=this.startFrame,e.length>1&&(this.endFrame=e[1]))}setOptions(e){void 0!==e.rate&&(this.rate=e.rate<=0?1:e.rate),void 0!==e.playNum&&(this.manualPlayNum=e.playNum<0?0:e.playNum)}addContext(e){if(this.contexts.length>0){const t=this.contexts[0].getImageData(0,0,this.width,this.height);e.putImageData(t,0,0)}this.contexts.push(e),e._apng_animation=this}removeContext(e){const t=this.contexts.indexOf(e);-1!==t&&(this.contexts.splice(t,1),0===this.contexts.length&&this.rewind(),"_apng_animation"in e&&delete e._apng_animation)}tick(e){for(;this.played&&this.nextRenderTime<=e;)this.renderFrame(e);this.played&&requestAnimationFrame((e=>{this.tick(e)}))}renderFrame(e){const t=this.fNum;if(-1!==this.manualEndNum&&t==this.manualEndNum)return this.manualEndNum=-1,void this.pause();this.fNum++,(this.fNum>=this.frames.length||this.fNum>this.endFrame&&-1!=this.endFrame)&&(this.fNum=this.startFrame,this.actualPlays++);const n=this.frames[t];if(0!=this.manualPlayNum&&this.actualPlays>=this.manualPlayNum)this.stop();else{for(0==t&&(this.contexts.forEach((e=>{e.clearRect(0,0,this.width,this.height)})),this.prevF=null,2==n.disposeOp&&(n.disposeOp=1)),this.prevF&&1==this.prevF.disposeOp?this.contexts.forEach((e=>{e.clearRect(this.prevF.left,this.prevF.top,this.prevF.width,this.prevF.height)})):this.prevF&&2==this.prevF.disposeOp&&this.contexts.forEach((e=>{e.putImageData(this.prevF.iData,this.prevF.left,this.prevF.top)})),this.prevF=n,this.prevF.iData=null,2==this.prevF.disposeOp&&(this.prevF.iData=this.contexts[0].getImageData(n.left,n.top,n.width,n.height)),0==n.blendOp&&this.contexts.forEach((e=>{e.clearRect(n.left,n.top,n.width,n.height)})),this.contexts.forEach((e=>{null==this.beforeHook&&null==this.afterHook||e.clearRect(0,0,this.width,this.height),this.beforeHook&&this.beforeHook(e,t),e.drawImage(n.img,n.left,n.top),this.afterHook&&this.afterHook(e,t)})),0==this.nextRenderTime&&(this.nextRenderTime=e);e>this.nextRenderTime+this.playTime;)this.nextRenderTime+=this.playTime;this.nextRenderTime+=n.delay/this.rate}}}const a=new Uint32Array(256);for(let e=0;e<256;e++){let t=e;for(let e=0;e<8;e++)t=1&t?3988292384^t>>>1:t>>>1;a[e]=t}const i=new Uint8Array([137,80,78,71,13,10,26,10]);const r=new class extends class{loadUrl(e){return new Promise(((t,n)=>{const o=new(window[atob("WE1MSHR0cFJlcXVlc3Q=")]);o.open("GET",e),o.responseType="arraybuffer",o.onload=function(){200==this.status?t(this.response):n(this)},o.send()}))}}{constructor(){super(...arguments),this.url2promise={}}urlParse(e){return e in this.url2promise||(this.url2promise[e]=this.loadUrl(e).then((e=>this.parse(e)))),this.url2promise[e]}checkPngSignature(e){for(let t=0;t<i.length;t++)if(i[t]!=e[t])return!1;return!0}isAnimated(e){let t=!1;return this.parseChunks(e,(e=>"acTL"!=e||(t=!0,!1))),t}createImages(e,t,n,o,a,r){let s=0;const d=new Blob(n),l=new Blob(o);for(let n=0;n<e.frames.length;n++){const o=e.frames[n];let u=[];u.push(i),t.set(this.makeDWordArray(o.width),0),t.set(this.makeDWordArray(o.height),4),u.push(this.makeChunkBytes("IHDR",t)),u.push(d);for(let e=0;e<o.dataParts.length;e++)u.push(this.makeChunkBytes("IDAT",o.dataParts[e]));u.push(l);const c=URL.createObjectURL(new Blob(u,{type:"image/png"}));delete o.dataParts,u=null,o.img=document.createElement("img"),o.img.onload=function(){URL.revokeObjectURL(this.src),s++,s==e.frames.length&&a(e)},o.img.onerror=function(){r("Image creation error")},o.img.src=c}}parse(e){const t=new Uint8Array(e);return new Promise(((e,n)=>{if(this.checkPngSignature(t)||(console.error("Not a PNG file (invalid file signature)"),n("Not a PNG file (invalid file signature)")),!this.isAnimated(t))return console.warn("Not an animated PNG"),void n("Not an animated PNG");const a=[],i=[];let r=null,s=null;const d=new o;if(this.parseChunks(t,((e,t,n,o)=>{switch(e){case"IHDR":r=t.subarray(n+8,n+8+o),d.width=this.readDWord(t,n+8),d.height=this.readDWord(t,n+12);break;case"acTL":d.numPlays=this.readDWord(t,n+8+4);break;case"fcTL":s&&d.frames.push(s),s={},s.width=this.readDWord(t,n+8+4),s.height=this.readDWord(t,n+8+8),s.left=this.readDWord(t,n+8+12),s.top=this.readDWord(t,n+8+16);const e=this.readWord(t,n+8+20);let l=this.readWord(t,n+8+22);0==l&&(l=100),s.delay=1e3*e/l,s.delay<=10&&(s.delay=100),d.playTime+=s.delay,s.disposeOp=this.readByte(t,n+8+24),s.blendOp=this.readByte(t,n+8+25),s.dataParts=[];break;case"fdAT":s&&s.dataParts.push(t.subarray(n+8+4,n+8+o));break;case"IDAT":s&&s.dataParts.push(t.subarray(n+8,n+8+o));break;case"IEND":i.push(this.subBuffer(t,n,12+o));break;default:a.push(this.subBuffer(t,n,12+o))}})),s&&d.frames.push(s),0==d.frames.length)return console.error("Not an animated PNG"),void n("Not an animated PNG");this.createImages(d,r,a,i,(t=>{e(t)}),(e=>{console.error(e),n(e)}))}))}parseChunks(e,t){let n,o,a,i=8;do{n=this.readDWord(e,i),o=this.readString(e,i+4,4),a=t(o,e,i,n),i+=12+n}while(!1!==a&&"IEND"!=o&&i<e.length)}readWord(e,t){let n=0;for(let o=0;o<2;o++)n+=e[o+t]<<8*(1-o);return n}readDWord(e,t){let n=0;n+=e[0+t]<<24>>>0;for(let o=1;o<4;o++)n+=e[o+t]<<8*(3-o);return n}readByte(e,t){return e[t]}subBuffer(e,t,n){const o=new Uint8Array(n);return o.set(e.subarray(t,t+n)),o}readString(e,t,n){const o=Array.prototype.slice.call(e.subarray(t,t+n));return String.fromCharCode.apply(String,o)}makeDWordArray(e){return[e>>>24&255,e>>>16&255,e>>>8&255,255&e]}makeStringArray(e){const t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n));return t}makeChunkBytes(e,t){const n=e.length+t.length,o=new Uint8Array(new ArrayBuffer(n+8));o.set(this.makeDWordArray(t.length),0),o.set(this.makeStringArray(e),4),o.set(t,8);const i=function(e,t,n){let o=-1;for(let i=t=t||0,r=t+(n=n||e.length-t);i<r;i++)o=o>>>8^a[255&(o^e[i])];return-1^o}(o,4,n);return o.set(this.makeDWordArray(i),n+4),o}};class s{constructor(){}checkNativeFeatures(){return new Promise((e=>{const t=document.createElement("canvas"),o={TypedArrays:"ArrayBuffer"in n.g,BlobURLs:"URL"in n.g,requestAnimationFrame:"requestAnimationFrame"in n.g,pageProtocol:"http:"==location.protocol||"https:"==location.protocol,canvas:"getContext"in document.createElement("canvas"),APNG:!1};if(o.canvas){const n=new Image;n.onload=function(){const a=t.getContext("2d");a.drawImage(n,0,0),o.APNG=0===a.getImageData(0,0,1,1).data[3],e(o)},n.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACGFjVEwAAAABAAAAAcMq2TYAAAANSURBVAiZY2BgYPgPAAEEAQB9ssjfAAAAGmZjVEwAAAAAAAAAAQAAAAEAAAAAAAAAAAD6A+gBAbNU+2sAAAARZmRBVAAAAAEImWNgYGBgAAAABQAB6MzFdgAAAABJRU5ErkJggg=="}else e(o)}))}isSupport(e){return void 0===e&&(e=!1),this.checkNativeFeatures().then((t=>t.APNG&&!e?Promise.reject(!1):Promise.resolve(!0)))}parseBuffer(e){return r.parse(e)}parseURL(e){return r.urlParse(e)}animateImage(e,t){t=null==t||t,e.setAttribute("data-is-apng","progress");const n=n=>{e.setAttribute("data-is-apng","yes"),"0"===e.style.opacity&&(e.style.opacity="1");const o=document.createElement("canvas");o.width=n.width,o.height=n.height,Array.prototype.slice.call(e.attributes).forEach((e=>{-1==["alt","src","usemap","ismap","data-is-apng","width","height"].indexOf(e.nodeName)&&o.setAttributeNode(e.cloneNode(!1))})),o.setAttribute("data-apng-src",e.src),""!=e.alt&&o.appendChild(document.createTextNode(e.alt));const a=e.parentNode;return a.insertBefore(o,e),a.removeChild(e),n.addContext(o.getContext("2d")),!0===t&&n.play(),Promise.resolve(n)},o=()=>this.parseURL(e.src).then((e=>n(e))).catch((t=>{console.warn(t),e.setAttribute("data-is-apng","no")}));return null!=e.dataset.src&&""!=e.dataset.src&&this.canYouUseCache?this.ifHasCache(e.dataset.src).then((e=>this.parseBuffer(e))).then((e=>n(e))).catch((()=>o())):o()}ifHasCache(e){return new Promise(((t,n)=>{this.emit("getCache",e),this.on("getCacheBack",(e=>{null==e?n(!1):t(e)}))}))}static install(e){e.register("APNG",(()=>{const t=new s;return t.on=e.on,t.emit=e.emit,t.canYouUseCache=e.plugins.LocalCache&&e.plugins.LocalCache.installed,t}))}}s.installed=!1,s.pluginName="APNG",window.APNG=s;const d=s},6095:(e,t,n)=>{const{lerp:o,isTruthy:a}=n(3139),i=[{aspect:.25,attribute:"data-fit-fill-portrait-iphoneX"},{aspect:320/622+.025,attribute:"data-fit-fill-portrait-iphoneX"},{aspect:.5875,attribute:"data-fit-fill-portrait-iphone6"},{aspect:.775,attribute:"data-fit-fill-portrait-ipad"},{aspect:4/3+.025,attribute:"data-fit-fill-landscape-ipad"},{aspect:16/9+.025,attribute:"data-fit-fill-landscape-iphone6"},{aspect:1.96875,attribute:"data-fit-fill-landscape-iphoneX"},{aspect:Number.MAX_VALUE,attribute:"data-fit-fill-landscape-iphoneX"}];e.exports=class{constructor(e){this.contentFrame=e,this.content=this.contentFrame.querySelector("[data-id]"),this.setup(),this.update()}setup(){if(this.innerWidth=0,this.innerHeight=0,this.style=document.createElement("style"),this.style.type="text/css",this.style.innerHTML="",this.readyDispatched=!1,document.head.appendChild(this.style),setInterval(this.update.bind(this),250),"ResizeObserver"in window){new ResizeObserver(this.update.bind(this)).observe(document.body)}}refresh(){this.innerWidth=0,this.innerHeight=0,this.update()}async update(){const{innerWidth:e,innerHeight:t}=window;if(!this.readyDispatched&&this.isContentReady()&&(this.readyDispatched=!0,setTimeout((()=>document.body.classList.add("content-frame-ready")),1)),this.innerWidth===e&&this.innerHeight===t)return;this.innerWidth=e,this.innerHeight=t;const[n,r]=await this.queryContentSize(),{offsetWidth:s,offsetHeight:d}=this.contentFrame.parentNode,l=Math.min(1*s/n,1*d/r),u=Math.max(1*s/n,1*d/r);let c=e<t?parseFloat(this.contentFrame.getAttribute("data-fit-fill-portrait")):parseFloat(this.contentFrame.getAttribute("data-fit-fill-landscape"));if(a(this.contentFrame.getAttribute("advanced-fitting"))){const n=i.findIndex((({aspect:n})=>n>=e/t)),{attribute:o}=i[n];c=parseFloat(this.contentFrame.getAttribute(o))||0}const p=o(l,u,c),{id:m}=this.contentFrame,f=`\n            #${m} {\n                --content-frame-width: ${n*p}px;\n                --content-frame-height: ${r*p}px;\n            }\n        `;this.style.innerHTML=f}isContentReady(){return"VIDEO"!==this.content.tagName||this.content.readyState>2}queryContentSize(){return"VIDEO"===this.content.tagName?new Promise((e=>{this.queryVideoSize().then(e)})):new Promise((e=>{this.queryImageSize().then(e)}))}queryVideoSize(){return new Promise((e=>{const{videoWidth:t,videoHeight:n}=this.content;t>0&&n>0?e([t,n]):this.content.addEventListener("loadedmetadata",(()=>e([this.content.videoWidth,this.content.videoHeight])))}))}queryImageSize(){return new Promise((e=>{const{naturalWidth:t,naturalHeight:n}=this.content;t>0&&n>0?e([t,n]):this.content.addEventListener("load",(()=>e([this.content.naturalWidth,this.content.naturalHeight])))}))}}},373:e=>{const t=new class{constructor(){this.ctaTriggered=!1,this.subscribe()}goToStore(){this.ctaTriggered||(window.dispatchEvent(new Event("element:cta")),this.ctaTriggered=!0,setTimeout((()=>{this.ctaTriggered=!1}),1e3))}subscribe(){window.addEventListener("luna:pause",(()=>{this.ctaTriggered=!1}))}};e.exports=t},8080:e=>{e.exports={enumOptionsToPlaygroundOptions:function(e){return Object.fromEntries(e.map((({title:e},t)=>[t,e])))},getEnumValue:function(e,t){return t[e].value}}},6109:()=>{window.addEventListener("element:enableStep",(e=>{"end-card"===e.detail&&(window.pi.logCustomEvent("EndCardShown",1),Luna.Unity.LifeCycle.GameEnded())}))},3685:(e,t,n)=>{var o;/*! howler.js v2.2.3 | (c) 2013-2020, James Simpson of GoldFire Studios | MIT License | howlerjs.com */!function(){const a=function(){this.init()};a.prototype={init(){const e=this||i;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume(e){const t=this||i;if(e=parseFloat(e),t.ctx||m(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,i.ctx.currentTime);for(let n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(let o=t._howls[n]._getSoundIds(),a=0;a<o.length;a++){const i=t._howls[n]._soundById(o[a]);i&&i._node&&(i._node.volume=i._volume*e)}return t}return t._volume},mute(e){const t=this||i;t.ctx||m(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,i.ctx.currentTime);for(let n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(let o=t._howls[n]._getSoundIds(),a=0;a<o.length;a++){const i=t._howls[n]._soundById(o[a]);i&&i._node&&(i._node.muted=!!e||i._muted)}return t},stop(){for(var e=this||i,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload(){for(var e=this||i,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,m()),e},codecs(e){return(this||i)._codecs[e.replace(/^x-/,"")]},_setup(){const e=this||i;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs(){const e=this||i;let t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;const n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),o=e._navigator?e._navigator.userAgent:"",a=o.match(/OPR\/([0-6].)/g),r=a&&parseInt(a[0].split("/")[1],10)<33,s=-1!==o.indexOf("Safari")&&-1===o.indexOf("Chrome"),d=o.match(/Version\/(.*?) /),l=s&&d&&parseInt(d[1],10)<15;return e._codecs={mp3:!(r||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(l||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(l||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio(){const e=this||i;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{const t=new Audio;t._unlocked=!0,e._releaseHtml5Audio(t)}catch(n){e.noAudio=!0;break}for(let t=0;t<e._howls.length;t++)if(!e._howls[t]._webAudio)for(let n=e._howls[t]._getSoundIds(),o=0;o<n.length;o++){const a=e._howls[t]._soundById(n[o]);a&&a._node&&!a._node._unlocked&&(a._node._unlocked=!0,a._node.load())}e._autoResume();const o=e.ctx.createBufferSource();o.buffer=e._scratchBuffer,o.connect(e.ctx.destination),void 0===o.start?o.noteOn(0):o.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),o.onended=function(){o.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(let t=0;t<e._howls.length;t++)e._howls[t]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio(){const e=this||i;if(e._html5AudioPool.length)return e._html5AudioPool.pop();const t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((()=>{console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio(e){const t=this||i;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend(){const e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&i.usingWebAudio){for(let t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(let n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((()=>{if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";const t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume(){const e=this;if(e.ctx&&void 0!==e.ctx.resume&&i.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((()=>{e.state="running";for(let t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var i=new a;const r=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};r.prototype={init(e){const t=this;return i.ctx||m(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=i.usingWebAudio&&!t._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(t),t._autoplay&&t._queue.push({event:"play",action(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load(){const e=this;let t=null;if(!i.noAudio){"string"==typeof e._src&&(e._src=[e._src]);for(let a=0;a<e._src.length;a++){var n,o;if(e._format&&e._format[a])n=e._format[a];else{if("string"!=typeof(o=e._src[a])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(o))||(n=/\.([^.]+)$/.exec(o.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&i.codecs(n)){t=e._src[a];break}}return t?(e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new s(e),e._webAudio&&l(e),e):void e._emit("loaderror",null,"No codec support for selected audio sources.")}e._emit("loaderror",null,"No audio support.")},play(e,t){const n=this;let o=null;if("number"==typeof e)o=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var a=0,r=0;r<n._sounds.length;r++)n._sounds[r]._paused&&!n._sounds[r]._ended&&(a++,o=n._sounds[r]._id);1===a?e=null:o=null}}const s=o?n._soundById(o):n._inactiveSound();if(!s)return null;if(o&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;const t=s._id;return n._queue.push({event:"play",action(){n.play(t)}}),t}if(o&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&i._autoResume();const d=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),l=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-d),u=1e3*l/Math.abs(s._rate),c=n._sprite[e][0]/1e3,p=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;const m=function(){s._paused=!1,s._seek=d,s._start=c,s._stop=p,s._loop=!(!s._loop&&!n._sprite[e][2])};if(d>=p)return void n._ended(s);const f=s._node;if(n._webAudio){const e=function(){n._playLock=!1,m(),n._refreshBuffer(s);const e=s._muted||n._muted?0:s._volume;f.gain.setValueAtTime(e,i.ctx.currentTime),s._playStart=i.ctx.currentTime,void 0===f.bufferSource.start?s._loop?f.bufferSource.noteGrainOn(0,d,86400):f.bufferSource.noteGrainOn(0,d,l):s._loop?f.bufferSource.start(0,d,86400):f.bufferSource.start(0,d,l),u!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),u)),t||setTimeout((()=>{n._emit("play",s._id),n._loadQueue()}),0)};"running"===i.state&&"interrupted"!==i.ctx.state?e():(n._playLock=!0,n.once("resume",e),n._clearTimer(s._id))}else{const o=function(){f.currentTime=d,f.muted=s._muted||n._muted||i._muted||f.muted,f.volume=s._volume*i.volume(),f.playbackRate=s._rate;try{const o=f.play();if(o&&"undefined"!=typeof Promise&&(o instanceof Promise||"function"==typeof o.then)?(n._playLock=!0,m(),o.then((()=>{n._playLock=!1,f._unlocked=!0,t?n._loadQueue():n._emit("play",s._id)})).catch((()=>{n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(n._playLock=!1,m(),n._emit("play",s._id)),f.playbackRate=s._rate,f.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),u):(n._endTimers[s._id]=function(){n._ended(s),f.removeEventListener("ended",n._endTimers[s._id],!1)},f.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===f.src&&(f.src=n._src,f.load());const a=window&&window.ejecta||!f.readyState&&i._navigator.isCocoonJS;if(f.readyState>=3||a)o();else{n._playLock=!0,n._state="loading";var h=function(){n._state="loaded",o(),f.removeEventListener(i._canPlayEvent,h,!1)};f.addEventListener(i._canPlayEvent,h,!1),n._clearTimer(s._id)}}return s._id},pause(e){const t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action(){t.pause(e)}}),t;for(let n=t._getSoundIds(e),o=0;o<n.length;o++){t._clearTimer(n[o]);const e=t._soundById(n[o]);if(e&&!e._paused&&(e._seek=t.seek(n[o]),e._rateSeek=0,e._paused=!0,t._stopFade(n[o]),e._node))if(t._webAudio){if(!e._node.bufferSource)continue;void 0===e._node.bufferSource.stop?e._node.bufferSource.noteOff(0):e._node.bufferSource.stop(0),t._cleanBuffer(e._node)}else isNaN(e._node.duration)&&e._node.duration!==1/0||e._node.pause();arguments[1]||t._emit("pause",e?e._id:null)}return t},stop(e,t){const n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action(){n.stop(e)}}),n;for(let o=n._getSoundIds(e),a=0;a<o.length;a++){n._clearTimer(o[a]);const e=n._soundById(o[a]);e&&(e._seek=e._start||0,e._rateSeek=0,e._paused=!0,e._ended=!0,n._stopFade(o[a]),e._node&&(n._webAudio?e._node.bufferSource&&(void 0===e._node.bufferSource.stop?e._node.bufferSource.noteOff(0):e._node.bufferSource.stop(0),n._cleanBuffer(e._node)):isNaN(e._node.duration)&&e._node.duration!==1/0||(e._node.currentTime=e._start||0,e._node.pause(),e._node.duration===1/0&&n._clearSound(e._node))),t||n._emit("stop",e._id))}return n},mute(e,t){const n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(let o=n._getSoundIds(t),a=0;a<o.length;a++){const t=n._soundById(o[a]);t&&(t._muted=e,t._interval&&n._stopFade(t._id),n._webAudio&&t._node?t._node.gain.setValueAtTime(e?0:t._volume,i.ctx.currentTime):t._node&&(t._node.muted=!!i._muted||e),n._emit("mute",t._id))}return n},volume(){let e,t;const n=this,o=arguments;if(0===o.length)return n._volume;let a;if(1===o.length||2===o.length&&void 0===o[1]?n._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):e=parseFloat(o[0]):o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10)),!(void 0!==e&&e>=0&&e<=1))return a=t?n._soundById(t):n._sounds[0],a?a._volume:0;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"volume",action(){n.volume.apply(n,o)}}),n;void 0===t&&(n._volume=e),t=n._getSoundIds(t);for(let r=0;r<t.length;r++)(a=n._soundById(t[r]))&&(a._volume=e,o[2]||n._stopFade(t[r]),n._webAudio&&a._node&&!a._muted?a._node.gain.setValueAtTime(e,i.ctx.currentTime):a._node&&!a._muted&&(a._node.volume=e*i.volume()),n._emit("volume",a._id));return n},fade(e,t,n,o){const a=this;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"fade",action(){a.fade(e,t,n,o)}}),a;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),a.volume(e,o);for(let r=a._getSoundIds(o),s=0;s<r.length;s++){const d=a._soundById(r[s]);if(d){if(o||a._stopFade(r[s]),a._webAudio&&!d._muted){const o=i.ctx.currentTime,a=o+n/1e3;d._volume=e,d._node.gain.setValueAtTime(e,o),d._node.gain.linearRampToValueAtTime(t,a)}a._startFadeInterval(d,e,t,n,r[s],void 0===o)}}return a},_startFadeInterval(e,t,n,o,a,i){const r=this;let s=t;const d=n-t,l=Math.abs(d/.01),u=Math.max(4,l>0?o/l:o);let c=Date.now();e._fadeTo=n,e._interval=setInterval((()=>{const a=(Date.now()-c)/o;c=Date.now(),s+=d*a,s=Math.round(100*s)/100,s=d<0?Math.max(n,s):Math.min(n,s),r._webAudio?e._volume=s:r.volume(s,e._id,!0),i&&(r._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,r.volume(n,e._id),r._emit("fade",e._id))}),u)},_stopFade(e){const t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop(){let e,t,n;const o=this,a=arguments;if(0===a.length)return o._loop;if(1===a.length){if("boolean"!=typeof a[0])return!!(n=o._soundById(parseInt(a[0],10)))&&n._loop;e=a[0],o._loop=e}else 2===a.length&&(e=a[0],t=parseInt(a[1],10));for(let a=o._getSoundIds(t),i=0;i<a.length;i++)(n=o._soundById(a[i]))&&(n._loop=e,o._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,o.playing(a[i])&&(o.pause(a[i],!0),o.play(a[i],!0)))));return o},rate(){let e,t;const n=this,o=arguments;if(0===o.length)t=n._sounds[0]._id;else if(1===o.length){n._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));let a;if("number"!=typeof e)return a=n._soundById(t),a?a._rate:n._rate;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"rate",action(){n.rate.apply(n,o)}}),n;void 0===t&&(n._rate=e),t=n._getSoundIds(t);for(let o=0;o<t.length;o++)if(a=n._soundById(t[o])){n.playing(t[o])&&(a._rateSeek=n.seek(t[o]),a._playStart=n._webAudio?i.ctx.currentTime:a._playStart),a._rate=e,n._webAudio&&a._node&&a._node.bufferSource?a._node.bufferSource.playbackRate.setValueAtTime(e,i.ctx.currentTime):a._node&&(a._node.playbackRate=e);const r=n.seek(t[o]),s=1e3*((n._sprite[a._sprite][0]+n._sprite[a._sprite][1])/1e3-r)/Math.abs(a._rate);!n._endTimers[t[o]]&&a._paused||(n._clearTimer(t[o]),n._endTimers[t[o]]=setTimeout(n._ended.bind(n,a),s)),n._emit("rate",a._id)}return n},seek(){let e,t;const n=this,o=arguments;if(0===o.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===o.length){n._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(o[0]))}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if(void 0===t)return 0;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action(){n.seek.apply(n,o)}}),n;const a=n._soundById(t);if(a){if(!("number"==typeof e&&e>=0)){if(n._webAudio){const e=n.playing(t)?i.ctx.currentTime-a._playStart:0,o=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(o+e*Math.abs(a._rate))}return a._node.currentTime}const o=n.playing(t);o&&n.pause(t,!0),a._seek=e,a._ended=!1,n._clearTimer(t),n._webAudio||!a._node||isNaN(a._node.duration)||(a._node.currentTime=e);const s=function(){o&&n.play(t,!0),n._emit("seek",t)};if(o&&!n._webAudio){var r=function(){n._playLock?setTimeout(r,0):s()};setTimeout(r,0)}else s()}return n},playing(e){const t=this;if("number"==typeof e){const n=t._soundById(e);return!!n&&!n._paused}for(let e=0;e<t._sounds.length;e++)if(!t._sounds[e]._paused)return!0;return!1},duration(e){const t=this;let n=t._duration;const o=t._soundById(e);return o&&(n=t._sprite[o._sprite][1]/1e3),n},state(){return this._state},unload(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(i._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),i._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);const o=i._howls.indexOf(e);o>=0&&i._howls.splice(o,1);let a=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===e._src||e._src.indexOf(i._howls[n]._src)>=0){a=!1;break}return d&&a&&delete d[e._src],i.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on(e,t,n,o){const a=this[`_on${e}`];return"function"==typeof t&&a.push(o?{id:n,fn:t,once:o}:{id:n,fn:t}),this},off(e,t,n){const o=this,a=o[`_on${e}`];let i=0;if("number"==typeof t&&(n=t,t=null),t||n)for(i=0;i<a.length;i++){const e=n===a[i].id;if(t===a[i].fn&&e||!t&&e){a.splice(i,1);break}}else if(e)o[`_on${e}`]=[];else{const e=Object.keys(o);for(i=0;i<e.length;i++)0===e[i].indexOf("_on")&&Array.isArray(o[e[i]])&&(o[e[i]]=[])}return o},once(e,t,n){return this.on(e,t,n,1),this},_emit(e,t,n){for(var o=this,a=o[`_on${e}`],i=a.length-1;i>=0;i--)a[i].id&&a[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(o,a[i].fn),0),a[i].once&&o.off(e,a[i].fn,a[i].id));return o._loadQueue(e),o},_loadQueue(e){const t=this;if(t._queue.length>0){const n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended(e){const t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;const o=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&o&&t.stop(e._id,!0).play(e._id),t._webAudio&&o){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=i.ctx.currentTime;const n=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),n)}return t._webAudio&&!o&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),i._autoSuspend()),t._webAudio||o||t.stop(e._id,!0),t},_clearTimer(e){const t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{const n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById(e){for(let t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound(){const e=this;e._drain();for(let t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new s(e)},_drain(){const e=this,t=e._pool;let n=0,o=0;if(!(e._sounds.length<t)){for(o=0;o<e._sounds.length;o++)e._sounds[o]._ended&&n++;for(o=e._sounds.length-1;o>=0;o--){if(n<=t)return;e._sounds[o]._ended&&(e._webAudio&&e._sounds[o]._node&&e._sounds[o]._node.disconnect(0),e._sounds.splice(o,1),n--)}}},_getSoundIds(e){const t=this;if(void 0===e){for(var n=[],o=0;o<t._sounds.length;o++)n.push(t._sounds[o]._id);return n}return[e]},_refreshBuffer(e){return e._node.bufferSource=i.ctx.createBufferSource(),e._node.bufferSource.buffer=d[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,i.ctx.currentTime),this},_cleanBuffer(e){const t=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=i._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound(e){/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init(){const e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,t._sounds.push(e),e.create(),e},create(){const e=this,t=e._parent,n=i._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),e._node.gain.setValueAtTime(n,i.ctx.currentTime),e._node.paused=!0,e._node.connect(i.masterGain)):i.noAudio||(e._node=i._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(i._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*i.volume(),e._node.load()),e},reset(){const e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,e},_errorListener(){const e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener(){const e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(i._canPlayEvent,e._loadFn,!1)},_endListener(){const e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var d={},l=function(e){const t=e._src;if(d[t])return e._duration=d[t].duration,void p(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),o=new Uint8Array(n.length),a=0;a<n.length;++a)o[a]=n.charCodeAt(a);c(o.buffer,e)}else{const n=new(window[atob("WE1MSHR0cFJlcXVlc3Q=")]);n.open(e._xhr.method,t,!0),n.withCredentials=e._xhr.withCredentials,n.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((t=>{n.setRequestHeader(t,e._xhr.headers[t])})),n.onload=function(){const t=`${n.status}`[0];"0"===t||"2"===t||"3"===t?c(n.response,e):e._emit("loaderror",null,`Failed loading audio file with status: ${n.status}.`)},n.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete d[t],e.load())},u(n)}},u=function(e){try{e.send()}catch(t){e.onerror()}},c=function(e,t){const n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},o=function(e){e&&t._sounds.length>0?(d[t._src]=e,p(t,e)):n()};"undefined"!=typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(e).then(o).catch(n):i.ctx.decodeAudioData(e,o,n)},p=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},m=function(){if(i.usingWebAudio){try{"undefined"!=typeof AudioContext?i.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(e){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);const e=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),t=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){const e=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());i._navigator&&!e&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};void 0!==(o=(()=>({Howler:i,Howl:r})).apply(t,[]))&&(e.exports=o),t.Howler=i,t.Howl=r,void 0!==n.g?(n.g.HowlerGlobal=a,n.g.Howler=i,n.g.Howl=r,n.g.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=a,window.Howler=i,window.Howl=r,window.Sound=s)}(),function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){const t=this;if(!t.ctx||!t.ctx.listener)return t;for(let n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){const o=this;return o.ctx&&o.ctx.listener?(t="number"!=typeof t?o._pos[1]:t,n="number"!=typeof n?o._pos[2]:n,"number"!=typeof e?o._pos:(o._pos=[e,t,n],void 0!==o.ctx.listener.positionX?(o.ctx.listener.positionX.setTargetAtTime(o._pos[0],Howler.ctx.currentTime,.1),o.ctx.listener.positionY.setTargetAtTime(o._pos[1],Howler.ctx.currentTime,.1),o.ctx.listener.positionZ.setTargetAtTime(o._pos[2],Howler.ctx.currentTime,.1)):o.ctx.listener.setPosition(o._pos[0],o._pos[1],o._pos[2]),o)):o},HowlerGlobal.prototype.orientation=function(e,t,n,o,a,i){const r=this;if(!r.ctx||!r.ctx.listener)return r;const s=r._orientation;return t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,o="number"!=typeof o?s[3]:o,a="number"!=typeof a?s[4]:a,i="number"!=typeof i?s[5]:i,"number"!=typeof e?s:(r._orientation=[e,t,n,o,a,i],void 0!==r.ctx.listener.forwardX?(r.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),r.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),r.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),r.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),r.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),r.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):r.ctx.listener.setOrientation(e,t,n,o,a,i),r)},Howl.prototype.init=function(e){return function(t){const n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,n){const o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"stereo",action(){o.stereo(t,n)}}),o;const a=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof t)return o._stereo;o._stereo=t,o._pos=[t,0,0]}for(let i=o._getSoundIds(n),r=0;r<i.length;r++){const n=o._soundById(i[r]);if(n){if("number"!=typeof t)return n._stereo;n._stereo=t,n._pos=[t,0,0],n._node&&(n._pannerAttr.panningModel="equalpower",n._panner&&n._panner.pan||e(n,a),"spatial"===a?void 0!==n._panner.positionX?(n._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):n._panner.setPosition(t,0,0):n._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),o._emit("stereo",n._id)}}return o},Howl.prototype.pos=function(t,n,o,a){const i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action(){i.pos(t,n,o,a)}}),i;if(n="number"!=typeof n?0:n,o="number"!=typeof o?-.5:o,void 0===a){if("number"!=typeof t)return i._pos;i._pos=[t,n,o]}for(let r=i._getSoundIds(a),s=0;s<r.length;s++){const a=i._soundById(r[s]);if(a){if("number"!=typeof t)return a._pos;a._pos=[t,n,o],a._node&&(a._panner&&!a._panner.pan||e(a,"spatial"),void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):a._panner.setPosition(t,n,o)),i._emit("pos",a._id)}}return i},Howl.prototype.orientation=function(t,n,o,a){const i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action(){i.orientation(t,n,o,a)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,o="number"!=typeof o?i._orientation[2]:o,void 0===a){if("number"!=typeof t)return i._orientation;i._orientation=[t,n,o]}for(let r=i._getSoundIds(a),s=0;s<r.length;s++){const a=i._soundById(r[s]);if(a){if("number"!=typeof t)return a._orientation;a._orientation=[t,n,o],a._node&&(a._panner||(a._pos||(a._pos=i._pos||[0,0,-.5]),e(a,"spatial")),void 0!==a._panner.orientationX?(a._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),a._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),a._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):a._panner.setOrientation(t,n,o)),i._emit("orientation",a._id)}}return i},Howl.prototype.pannerAttr=function(){let t,n,o;const a=this,i=arguments;if(!a._webAudio)return a;if(0===i.length)return a._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return o=a._soundById(parseInt(i[0],10)),o?o._pannerAttr:a._pannerAttr;t=i[0],void 0===n&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),a._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:a._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:a._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:a._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:a._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:a._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:a._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:a._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:a._panningModel})}else 2===i.length&&(t=i[0],n=parseInt(i[1],10));for(let i=a._getSoundIds(n),r=0;r<i.length;r++)if(o=a._soundById(i[r])){let n=o._pannerAttr;n={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:n.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:n.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:n.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:n.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:n.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:n.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:n.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:n.panningModel};const i=o._panner;i?(i.coneInnerAngle=n.coneInnerAngle,i.coneOuterAngle=n.coneOuterAngle,i.coneOuterGain=n.coneOuterGain,i.distanceModel=n.distanceModel,i.maxDistance=n.maxDistance,i.refDistance=n.refDistance,i.rolloffFactor=n.rolloffFactor,i.panningModel=n.panningModel):(o._pos||(o._pos=a._pos||[0,0,-.5]),e(o,"spatial"))}return a},Sound.prototype.init=function(e){return function(){const t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){const t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var e=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()},8475:()=>{const e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;window.addEventListener("DOMContentLoaded",(function(){[...document.querySelectorAll("img.font"),...document.querySelectorAll("img.video-source"),...document.querySelectorAll("img.soundtrack")].forEach((t=>{new e((()=>t.dispatchEvent(new Event("load")))).observe(t,{attributes:!0})}))}))},7177:()=>{const e={up:"mouseup",down:"mousedown",move:"mousemove"},t={up:"touchend",down:"touchstart",move:"touchmove"},n="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;Element.prototype.addInteractionListener=function(o,a){n?this.addEventListener(t[o],a,{passive:!1}):this.addEventListener(e[o],a,{passive:!1})},Element.prototype.removeInteractionListener=function(o,a){n?this.removeEventListener(t[o],a):this.removeEventListener(e[o],a)}},3892:e=>{e.exports={detectLowPowerMode:async function(e){const t=document.querySelector(".low-power-container"),n=document.querySelector("video.low-power-tester");if(!t)return;const o=new Promise((e=>t.addInteractionListener("down",(t=>{t.stopPropagation(),e()}))));try{e?await o:await async function(e,t){let n=t/50,o=null;return e.play(),new Promise(((t,a)=>{o=setInterval((()=>{e.paused?n<=0&&a():t(),n-=1}),50)})).finally((()=>clearInterval(o)))}(n,750)}catch(e){await o}finally{n.parentNode.removeChild(n)}}}},5703:e=>{e.exports=class{constructor(e,t){this.element=e,this.image=t,this.ninePatchStops=(this.element.getAttribute("data-nine-patch-stops")||"0.33,0.66,0.33,0.66").split(",").map((e=>parseFloat(e))),"ResizeObserver"in window?this.setup():this.fallback()}setup(){this.canvas=document.createElement("canvas"),this.element.insertBefore(this.canvas,this.element.firstChild),this.context=this.canvas.getContext("2d"),this.update();new ResizeObserver(this.update.bind(this)).observe(this.canvas),this.image.addEventListener("load",this.update.bind(this))}fallback(){this.element.classList.add("fallback"),this.element.style.borderImageSource=`url(${this.image.getAttribute("src")})`}refresh(){this.ninePatchStops=(this.element.getAttribute("data-nine-patch-stops")||"0.33,0.66,0.33,0.66").split(",").map((e=>parseFloat(e))),this.update()}update(){const e=(window.innerWidth>window.innerHeight?window.innerWidth/window.innerHeight:1)*(320/Math.min(window.innerWidth,window.innerHeight)),{naturalWidth:t,naturalHeight:n}=this.image;this.canvas.width=2*this.canvas.offsetWidth*e,this.canvas.height=2*this.canvas.offsetHeight*e;const{width:o}=this.context.canvas,{height:a}=this.context.canvas,i=[this.ninePatchStops[0]!==1-this.ninePatchStops[1],this.ninePatchStops[2]!==1-this.ninePatchStops[3]],r=[[0,t*this.ninePatchStops[0],t*this.ninePatchStops[1],t],[0,n*this.ninePatchStops[2],n*this.ninePatchStops[3],n]],s=(this.ninePatchStops[0]+(1-this.ninePatchStops[1]))*t,d=(this.ninePatchStops[2]+(1-this.ninePatchStops[3]))*n,l=i[0]?.5:o/s,u=i[1]?.5:a/d,c=Math.min(l,u),p=i[0]?0:o-s*c,m=i[1]?0:a-d*c,f=p/2,h=m/2,_=o-p/2,g=a-m/2,y=[[f,f+this.ninePatchStops[0]*c*t,_-(1-this.ninePatchStops[1])*c*t,_],[h,h+this.ninePatchStops[2]*c*n,g-(1-this.ninePatchStops[3])*c*n,g]];for(let e=0;e<3;e++)for(let t=0;t<3;t++)try{this.context.drawImage(this.image,r[0][e],r[1][t],r[0][e+1]-r[0][e],r[1][t+1]-r[1][t],y[0][e],y[1][t],y[0][e+1]-y[0][e],y[1][t+1]-y[1][t])}catch(e){}}}},6756:(e,t,n)=>{n(7177),n(1742),n(6109),n(8475),n(2448),n(5674);const{Howl:o,Howler:a}=n(3685),{apply:i}=n(3622),{forEachElement:r,isTruthy:s}=n(3139),d=n(6095),l=n(5703),u=n(4580),{AnimatedHint:c}=n(7989),{detectLowPowerMode:p}=n(3892),m=n(373);function f(e){const t=`data-step-${e}`,n="true";document.body.getAttribute(t)!==n&&(window.dispatchEvent(new CustomEvent("element:enableStep",{detail:e})),document.body.setAttribute(t,n))}function h(e){document.body.removeAttribute(`data-step-${e}`)}function _(){window.innerHeight>0&&window.innerWidth>0?document.dispatchEvent(new Event("luna:frame")):window.requestAnimationFrame(_)}function g(){[...document.head.querySelectorAll("style[data-playground]")].forEach((e=>e.remove()))}function y(){r("img.font",(e=>{const t=`@font-face {\n            font-family: '${e.getAttribute("data-font-family")}';\n            src: url('${e.src}');\n            font-weight: 500;\n            font-style: normal;\n            font-display: swap;\n        }`,n=document.createElement("style");n.type="text/css",n.innerHTML=t,n.setAttribute("data-playground","font"),document.head.appendChild(n)}))}function v(){r("img.video-source[src]",(e=>{const t=e.src;let n=document.querySelector(`[data-id="${e.id}"]`);const o=/Macintosh|iPad|iPhone|iPod/.test(navigator.userAgent);if(!t.startsWith("data:")||!o)return void(n.src=t);if(o&&(navigator.userAgent.includes("15.")||navigator.userAgent.includes("Macintosh"))&&navigator.maxTouchPoints>0&&function(){const e=window.$luna_template.name;return["apple-end-card","one-hit-one-crit","tap-to-end-card","choose-one"].includes(e)}()&&"VIDEO"===n.tagName){const{parentNode:e}=n,t=document.createElement("img");t.className="filterable",t.setAttribute("data-id",n.getAttribute("data-id")),e.insertBefore(t,n),e.removeChild(n),n=t}const a=atob(t.split(",")[1]),i=new Uint8Array(a.length);for(let e=0;e<i.length;e++)i[e]=a.charCodeAt(e);n.src=URL.createObjectURL(new Blob([i.buffer],{type:"video/mp4"}))}))}e.exports={platform:function({playground:e,startGame:t}){return window.Luna||(window.Luna={Unity:{Playable:{InstallFullGame(){alert("CTA Clicked")}},Playground:{get(t,n,o,a){const{type:i}=e.fields[t][n],r=e.fields[t][n].defaultValue;if("color"!==i||"rgba"!==a)return r;const s=(255*r[0]|0).toString(16),d=(255*r[1]|0).toString(16),l=(255*r[2]|0).toString(16),u=(255*r[3]|0).toString(16);return`#${s.length<2?"0":""}${s}${d.length<2?"0":""}${d}${l.length<2?"0":""}${l}${u.length<2?"0":""}${u}`}},LifeCycle:{GameEnded:()=>console.log("Luna.Unity.LifeCycle.GameEnded() invoked")}}},window.pi={logCustomEvent:(e,t)=>console.log(`window.pi.logCustomEvent invoked with ${e}, ${t}`)},t()),window.Luna},enableStep:f,disableStep:h,automap:function(e,t={}){document.body.addEventListener("touchstart",(()=>{})),window.addEventListener("element:fields:applying",g),window.addEventListener("element:assets:applied",y),i(e),function(e){window.addEventListener("message",(t=>{try{const n=JSON.parse(t.data);"live:setPlaygroundOverrides"===n.name&&(window.dispatchEvent(new Event("element:fields:applying")),window.playgroundOverrides=JSON.parse(n.data),i(e),window.dispatchEvent(new Event("element:fields:applied"))),"live:setPlaygroundAssetOverrides"===n.name&&(window.playgroundAssetOverrides=JSON.parse(n.data),Object.entries(window.playgroundAssetOverrides).forEach((([e,t])=>{const n=document.getElementById(`asset/${e}`);n&&(n.src=t)})),window.dispatchEvent(new Event("element:assets:applied")))}catch(e){}}))}(e),y(),function(){const e={};r("img.soundtrack",(t=>{const n=new o({src:[t.src],loop:1});e[t.getAttribute("data-type")]=n})),window.addEventListener("element:enableStep",(t=>{if("end-card"===t.detail){const t=document.body.getAttribute("soundtrack-variant"),n=e[t];Object.entries(e).forEach((([e,t])=>{n!==t&&t.pause()})),n&&!n.playing()&&n.play()}})),e.background&&e.background.play()}(),a.volume(0),window.Howler=a,v(),document.body.addInteractionListener("up",(e=>{let t=e.target;for(;t;){if(t.dataset){const n=t.dataset.cta;(""===n||s(n))&&(m.goToStore(),e.stopPropagation())}t=t.parentNode}})),document.location.search.indexOf("is_elements=1")>=0&&f("is-elements"),document.getElementsByClassName("tap-hint-container").length&&r(".tap-hint-container > .button",(e=>{let t=0;window.addEventListener("element:fields:applying",(()=>{e.classList.remove("animated"),setTimeout((()=>{t=window.getComputedStyle(e).getPropertyValue("--size")}),0)})),window.addEventListener("element:fields:applied",(()=>{window.getComputedStyle(e).getPropertyValue("--size")!==t&&e.classList.add("animated")}))})),r("video:not(.low-power-tester)",(e=>{let{currentTime:t}=e,n=0;setInterval((()=>{e.currentTime!==t&&(t=e.currentTime,e.dispatchEvent(new Event("precise:timeupdate")))}),40),e.addEventListener("play",(()=>window.pi.logCustomEvent("VideoPlay",++n))),e.addEventListener("pause",(()=>window.pi.logCustomEvent("VideoPause",n)))})),r("[data-src-borrow-from]",(e=>{if("data:image/png;base64,"===e.src){const t=document.getElementById(e.getAttribute("data-src-borrow-from"));e.src=t.src}e.addEventListener("error",(()=>{const t=document.getElementById(e.getAttribute("data-src-borrow-from"));e.src=t.src}))})),r(".nine-patch",(e=>{const t=document.getElementById(e.getAttribute("data-background-id")),n=new l(e,t);window.addEventListener("element:fields:applied",(()=>n.refresh())),window.addEventListener("element:assets:applied",(()=>n.refresh()))})),r(".content-frame",(e=>{const t=new d(e);window.addEventListener("element:fields:applied",(()=>t.refresh())),window.addEventListener("element:assets:applied",(()=>t.refresh()))})),r("[data-filler]",(e=>{let t=document.getElementById(e.getAttribute("data-filler"));"IMG"===t.tagName&&(t=document.querySelector(`[data-id="${t.id}"]`));const n=new u(e,t);window.addEventListener("element:fields:applied",(()=>n.refresh())),window.addEventListener("element:assets:applied",(()=>n.refresh()))})),r(".hint-source",(e=>{const t=new c(e.parentNode);window.addEventListener("element:fields:applied",(()=>t.refresh()))}));let n=parseInt(document.body.getAttribute("aggro-mode-clicks-to-store"),10);document.body.addInteractionListener("move",(e=>{e.stopPropagation(),e.preventDefault()})),document.addEventListener("element:ready",(()=>{document.body.removeAttribute("data-loading")})),window.addEventListener("element:cta",(()=>Luna.Unity.Playable.InstallFullGame())),window.addEventListener("element:cta",(()=>{t.endCard&&f("end-card")}));let b=!0,A=!1;window.addEventListener("element:enableStep",(e=>"end-card"===e.detail&&(b=!1))),window.addEventListener("luna:pause",(()=>{A=!0,n=parseInt(document.body.getAttribute("aggro-mode-clicks-to-store"),10)})),window.addEventListener("luna:resume",(()=>{A&&(A=!1,b&&window.dispatchEvent(new Event("element:resume")))})),window.addEventListener("element:enableStep",(e=>{"end-card"===e.detail&&r("video",(e=>{e.pause()}))}));let w=!1;document.body.addInteractionListener("up",(()=>{w||(w=!0,window.dispatchEvent(new Event("element:interaction")))})),window.addEventListener("element:fields:applied",(()=>{const e=document.querySelector("button.nine-patch");if(e){const{animationName:t}=e.style;e.style.animationName=null,setTimeout((()=>e.style.animationName=t),16)}}));const x=document.body.getAttribute("data-low-power-preview"),T=s(x)&&!window.LUCID,S=p(T),E=new Promise((e=>setTimeout((()=>e(!0)),750)));Promise.race([S,E]).then((e=>{e&&f("low-power")})),S.then((()=>{h("low-power"),_(),document.body.addInteractionListener("down",(()=>{n--,n<=0&&m.goToStore()}))}))},forEachElement:r,isTruthy:s,isEndcardEnabled:function(){return document.body.hasAttribute("data-step-end-card")}}},2448:()=>{function e(e,t,n,o,a){const i=e[`add${t}Listener`].bind(e),r=e[`remove${t}Listener`].bind(e);e.eventListeners||(e.eventListeners=new Map);const{eventListeners:s}=e;s.has(o)&&r(n,s.get(o)),s.set(o,a),i(n,a)}Element.prototype.setEventListener=function(t,n,o){o||(o=n,n=t),e(this,"Event",t,n,o)},Element.prototype.setInteractionListener=function(t,n,o){o||(o=n,n=t),e(this,"Interaction",t,n,o)}},5674:()=>{let e=!1,t=!1,n=!1;function o(){[...document.querySelectorAll("video")].forEach((o=>{const a=o.getAttribute("data-muted");o.muted="1"===a||(e||!t||n)})),window.Howler.volume(e||!t||n?0:1)}window.addEventListener("element:interaction",(()=>{t=!0,o()})),window.addEventListener("luna:mute",(()=>{e=!0,o()})),window.addEventListener("luna:unmute",(()=>{e=!1,o()})),window.addEventListener("luna:pause",(()=>{n=!0,o()})),window.addEventListener("luna:resume",(()=>{n=!1,o()})),window.addEventListener("luna:start",(()=>{n=!1,o()}))},3139:e=>{function t(){return/Macintosh|iPad|iPhone|iPod/.test(navigator.userAgent)}e.exports={forEachElement:function(e,t){e=e.replace(/\//g,"\\/");const n=[...document.body.querySelectorAll(e)];document.body.matches(e)&&n.push(document.body),n.forEach(((e,n)=>t(e,n)))},lerp:function(e,t,n){return e+(t-e)*n},normalizedColorToRGBA:function(e){return`rgba(${255*e[0]|0}, ${255*e[1]|0}, ${255*e[2]|0}, ${e[3]})`},isTruthy:function(e){return"1"===e||"true"===e},maybeApple:t,videoFrameOffset:function(){return t()?1/60:2/60},waitTillVideoReady:function(e){const t=document.querySelector("video");t?(t.loop=e,t.readyState>2?document.dispatchEvent(new Event("element:ready")):t.setEventListener("play",(()=>{document.dispatchEvent(new Event("element:ready"))})),t.play()):document.dispatchEvent(new Event("element:ready"))}}},4580:e=>{e.exports=class{constructor(e,t){this.canvas=e,this.video=t,this.fillerType=this.canvas.getAttribute("data-filler-type"),"IMG"===this.video.tagName&&"animated"===this.fillerType&&(this.fillerType="static"),this.context=this.canvas.getContext("2d"),this.onRequestAnimationFrame=this.update.bind(this),window.requestAnimationFrame(this.onRequestAnimationFrame)}refresh(){this.fillerType=this.canvas.getAttribute("data-filler-type"),this.update()}update(){if("none"===this.fillerType)return;const e=this.video.videoWidth||this.video.naturalWidth,t=this.video.videoHeight||this.video.naturalHeight,n=this.video.paused||!1,o=this.video.currentTime||.01;if("IMG"!==this.video.tagName&&(!this.video.currentTime||0===this.video.currentTime))return void window.requestAnimationFrame(this.onRequestAnimationFrame);if(e<=0||t<=0||n||o<.01)return void window.requestAnimationFrame(this.onRequestAnimationFrame);const{offsetWidth:a,offsetHeight:i,width:r,height:s}=this.canvas;a===r&&i===s||(this.canvas.width=a,this.canvas.height=i);const d=Math.max(a/e,i/t),l=e*d,u=t*d;this.context.drawImage(this.video,(a-l)/2,(i-u)/2,l,u),"animated"===this.fillerType&&window.requestAnimationFrame(this.onRequestAnimationFrame)}}},9470:(e,t,n)=>{const o=n(4704),a=n(1554)(".end-card"),i=n(5434),r=n(7020),s=n(4227),d=n(3359)(),l=n(752)({endCard:!0}),u=n(5071),c=[...o,...a,...i,...r(".tap-hint-container,asset/tap-hint"),...u,...s,...d,...l,{"styleProperty!":{".end-card":[75,"End Card","tap-to-unloop.background-color",[0,0,0,.85],"color","backgroundColor"]}},{apperanceAnimation:{".end-card":[100,"Advanced Settings","tap-to-unloop.end-card-appearance-animation",1,.25]}},{"numberAttribute!":{"body[data-play-start-time]":[0,"Loop","tap-to-unloop.play-since-sec","float",0],"body[data-loop-start-time]":[1,"Loop","tap-to-unloop.loop-since-sec","float",0],"body[data-loop-end-time]":[2,"Loop","tap-to-unloop.loop-till-sec","float",2.5],"body[data-skip-loop]":[3,"Loop","tap-to-unloop.skip-to-loop-end","boolean",0]}}],p=["Video","Background","Loop","Tap Hint","End Card","Banner","App Store Controls","Soundtrack","Advanced Settings"].map(((e,t)=>({title:e,order:t})));e.exports={fields:c,sections:p}},1846:e=>{"use strict";e.exports=JSON.parse('{"unity":{"packages":{"default":{"applicationName":"","iosLink":"","androidLink":"","orientation":"unspecified","supportedLanguages":["en"]},"ironsource":{"appID":"","assetID":"","applicationGenre":"","versionName":"","apiType":0,"playableMode":0,"packageType":0},"facebook":{"assetID":"","packageType":0},"tiktok":{"orientation":0},"google":{"inlineScripts":true,"inlineJsons":true,"inlineBlobs":true,"inlineImages":true,"inlineSounds":true,"inlineVideos":true}}}}')},3005:(e,t,n)=>{"use strict";e.exports=n.p+"tap-to-unloop/luna.json"},8365:(e,t,n)=>{"use strict";e.exports=n.p+"tap-to-unloop/playground.json"}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="",(()=>{"use strict";var e=n(6756),t=n(3139),o=n(9470),a=n(3622);n(3005),n(8365);const{videoFrameOffset:i}=n(3139);let r,s,d,l,u;function c(){r=parseFloat(document.body.getAttribute("data-play-start-time")),s=parseFloat(document.body.getAttribute("data-loop-start-time")),d=parseFloat(document.body.getAttribute("data-loop-end-time")),l=(0,t.isTruthy)(document.body.getAttribute("data-skip-loop"))}function p(){(0,e.automap)(o.fields,{endCard:!0})}function m(){(0,e.disableStep)("unlooped"),(0,e.disableStep)("end-card"),u=document.querySelector("video"),c();let n=!0;u.setEventListener("precise:timeupdate",(()=>{Math.abs(s-d)<=.017&&n?u.pause():n&&u.currentTime>=d&&(u.currentTime=s)})),u.setEventListener("play",(()=>{document.dispatchEvent(new Event("element:ready"))})),u.setEventListener("ended",(()=>{n?u.currentTime=s:(u.pause(),(0,e.enableStep)("end-card"))})),window.addEventListener("element:enableStep",(e=>{"end-card"===e.detail&&u.pause()})),(0,t.forEachElement)(".tap-hint-container .button",(t=>{t.setInteractionListener("up",(()=>{n&&(n=!1,(0,e.enableStep)("unlooped"),l&&(u.currentTime=d),u.paused&&u.play(),window.pi.logCustomEvent("Interaction",1))}))})),u.loop=!1,u.currentTime=Math.min(r,s),u.play()}window.startGame=p,window.addEventListener("element:fields:applied",(function(){c();const e=i();r+=e,s+=e,d+=e,u.currentTime=s})),window.addEventListener("element:resume",m),document.addEventListener("luna:frame",m),document.addEventListener("DOMContentLoaded",(()=>{const t=(0,a.generateManifest)(null,null,o.fields);(0,e.platform)({startGame:p,playground:t})}))})()})();</script><style type="text/css">a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;-webkit-tap-highlight-color:rgba(255,255,255,0);vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}button,button:focus{outline:none}.end-card{display:-webkit-box;display:-ms-flexbox;display:flex;position:absolute;top:0;left:0;width:100%;height:100%;z-index:100;background:rgba(0,0,0,.85)}.end-card[data-type=description] .card>.icon,.end-card[data-type=icon] .card>span,.end-card[data-type=none] .card>.icon,.end-card[data-type=none] .card>span{display:none}.end-card .card [data-absolute-position="1"],.end-card .card [data-absolute-position=true]{--absolute-position-x:0;--absolute-position-y:0;position:fixed;left:0;bottom:0;-webkit-transform:translateX(calc((100vw - 100%)*var(--absolute-position-x))) translateY(calc((-100vh - -100%)*var(--absolute-position-y)));transform:translateX(calc((100vw - 100%)*var(--absolute-position-x))) translateY(calc((-100vh - -100%)*var(--absolute-position-y)))}.end-card .card>*{margin:.5em 0}.end-card .card>img.background{position:absolute;left:0;top:0;width:100%;height:100%;margin:0;z-index:-1}.end-card .card>.icon{--icon-height:7rem;height:calc(var(--icon-height));width:auto}.end-card .card>span{color:#fff;width:80%;text-align:center}.end-card .card .cta-button-container>button{-webkit-transition:all .05s;transition:all .05s;font-size:1rem;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-duration:2s;animation-duration:2s}.end-card .card .cta-button-container>button:active{-webkit-animation:none;animation:none;-webkit-transform:scale(.95);transform:scale(.95)}@-webkit-keyframes scale-in-out{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(2);transform:scale(2)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes scale-in-out{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(2);transform:scale(2)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes scroll-left-right{0%{-webkit-transform:scale(3) translateX(-30%);transform:scale(3) translateX(-30%)}25%{-webkit-transform:scale(3) translateX(0);transform:scale(3) translateX(0)}50%{-webkit-transform:scale(3) translateX(30%);transform:scale(3) translateX(30%)}75%{-webkit-transform:scale(3) translateX(0);transform:scale(3) translateX(0)}to{-webkit-transform:scale(3) translateX(-30%);transform:scale(3) translateX(-30%)}}@keyframes scroll-left-right{0%{-webkit-transform:scale(3) translateX(-30%);transform:scale(3) translateX(-30%)}25%{-webkit-transform:scale(3) translateX(0);transform:scale(3) translateX(0)}50%{-webkit-transform:scale(3) translateX(30%);transform:scale(3) translateX(30%)}75%{-webkit-transform:scale(3) translateX(0);transform:scale(3) translateX(0)}to{-webkit-transform:scale(3) translateX(-30%);transform:scale(3) translateX(-30%)}}@-webkit-keyframes scroll-top-bottom{0%{-webkit-transform:scale(3) translateY(-30%);transform:scale(3) translateY(-30%)}25%{-webkit-transform:scale(3) translateY(0);transform:scale(3) translateY(0)}50%{-webkit-transform:scale(3) translateY(30%);transform:scale(3) translateY(30%)}75%{-webkit-transform:scale(3) translateY(0);transform:scale(3) translateY(0)}to{-webkit-transform:scale(3) translateY(-30%);transform:scale(3) translateY(-30%)}}@keyframes scroll-top-bottom{0%{-webkit-transform:scale(3) translateY(-30%);transform:scale(3) translateY(-30%)}25%{-webkit-transform:scale(3) translateY(0);transform:scale(3) translateY(0)}50%{-webkit-transform:scale(3) translateY(30%);transform:scale(3) translateY(30%)}75%{-webkit-transform:scale(3) translateY(0);transform:scale(3) translateY(0)}to{-webkit-transform:scale(3) translateY(-30%);transform:scale(3) translateY(-30%)}}@-webkit-keyframes cycle-vertically-through-three-items{0%{top:17%}31%{top:17%}33%{top:50%}64%{top:50%}66%{top:83%}to{top:83%}}@keyframes cycle-vertically-through-three-items{0%{top:17%}31%{top:17%}33%{top:50%}64%{top:50%}66%{top:83%}to{top:83%}}@-webkit-keyframes cycle-vertically-through-two-items{0%{top:25%}49%{top:25%}50%{top:75%}to{top:75%}}@keyframes cycle-vertically-through-two-items{0%{top:25%}49%{top:25%}50%{top:75%}to{top:75%}}@-webkit-keyframes cycle-horizontally-through-three-items{0%{left:20%}31%{left:20%}33%{left:50%}64%{left:50%}66%{left:80%}to{left:80%}}@keyframes cycle-horizontally-through-three-items{0%{left:20%}31%{left:20%}33%{left:50%}64%{left:50%}66%{left:80%}to{left:80%}}@-webkit-keyframes cycle-horizontally-through-two-items{0%{left:25%}49%{left:25%}50%{left:75%}to{left:75%}}@keyframes cycle-horizontally-through-two-items{0%{left:25%}49%{left:25%}50%{left:75%}to{left:75%}}@-webkit-keyframes end-card-animation-pulse{0%{-webkit-transform:scale(1) rotate(0);transform:scale(1) rotate(0)}50%{-webkit-transform:scale(.75);transform:scale(.75)}to{-webkit-transform:scale(1) rotate(0);transform:scale(1) rotate(0)}}@keyframes end-card-animation-pulse{0%{-webkit-transform:scale(1) rotate(0);transform:scale(1) rotate(0)}50%{-webkit-transform:scale(.75);transform:scale(.75)}to{-webkit-transform:scale(1) rotate(0);transform:scale(1) rotate(0)}}@-webkit-keyframes end-card-animation-wobble{0%{-webkit-transform:rotate(0);transform:rotate(0)}12%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}25%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}37%{-webkit-transform:rotate(3deg);transform:rotate(3deg)}50%{-webkit-transform:rotate(-3deg);transform:rotate(-3deg)}62%{-webkit-transform:rotate(1deg);transform:rotate(1deg)}75%{-webkit-transform:rotate(-1deg);transform:rotate(-1deg)}87%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(0);transform:rotate(0)}}@keyframes end-card-animation-wobble{0%{-webkit-transform:rotate(0);transform:rotate(0)}12%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}25%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}37%{-webkit-transform:rotate(3deg);transform:rotate(3deg)}50%{-webkit-transform:rotate(-3deg);transform:rotate(-3deg)}62%{-webkit-transform:rotate(1deg);transform:rotate(1deg)}75%{-webkit-transform:rotate(-1deg);transform:rotate(-1deg)}87%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(0);transform:rotate(0)}}@-webkit-keyframes end-card-animation-scale{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(.8);transform:scale(.8)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes end-card-animation-scale{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(.8);transform:scale(.8)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes end-card-animation-opacity{0%{opacity:1}50%{opacity:.5}to{opacity:1}}@keyframes end-card-animation-opacity{0%{opacity:1}50%{opacity:.5}to{opacity:1}}.tap-hint-container{position:absolute;width:100%;height:100%;--offset-left:calc(var(--content-frame-width)*var(--offset-left-fraction));--offset-bottom:calc(var(--content-frame-height)*var(--offset-bottom-fraction));left:calc(var(--offset-left));bottom:calc(var(--offset-bottom));-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;pointer-events:none}.tap-hint-container,.tap-hint-container .tap-hint{display:-webkit-box;display:-ms-flexbox;display:flex}.tap-hint-container .tap-hint{--flipX:1;--flipY:1;--rotate:0deg;-webkit-transform:scale3d(var(--flipX),var(--flipY),1) rotate(var(--rotate));transform:scale3d(var(--flipX),var(--flipY),1) rotate(var(--rotate));position:relative}.tap-hint-container .tap-hint[data-flip="1"]{--flipX:-1}.tap-hint-container .tap-hint[data-flip="2"]{--flipY:-1}.tap-hint-container .tap-hint[data-flip="3"]{--flipX:-1;--flipY:-1}.tap-hint-container .tap-hint+span{text-align:center;position:absolute;width:100%}.tap-hint-container .overlay{--offset-left:0;--offset-bottom:0;--size:0rem;--color:rgba(0,0,0,0.75);position:absolute;width:calc(var(--size)*2);height:calc(var(--size)*2);border-radius:var(--size);left:calc(50% - var(--size));top:calc(50% - var(--size));-webkit-transform:translate(var(--offset-left),calc(var(--offset-bottom)*-1));transform:translate(var(--offset-left),calc(var(--offset-bottom)*-1));-webkit-box-shadow:0 0 0 calc(max(100vw, 100vh)) var(--color);box-shadow:0 0 0 calc(max(100vw, 100vh)) var(--color);background:transparent}.tap-hint-container .button{--size:1;width:calc(max(100vw, 100vh)*var(--size));height:calc(max(100vw, 100vh)*var(--size));position:absolute;border-radius:50%;border:5px solid #fff;opacity:0;z-index:14;cursor:pointer;pointer-events:all}.tap-hint-container .button.animated{-webkit-animation:opacity-change 2s linear;animation:opacity-change 2s linear}[data-step-end-card=true] .tap-hint-container,[data-step-win-screen=true] .tap-hint-container{display:none!important}@-webkit-keyframes opacity-change{0%{opacity:0}50%{opacity:1}to{opacity:0}}@keyframes opacity-change{0%{opacity:0}50%{opacity:1}to{opacity:0}}html{font-family:DefaultFont;font-size:5vw}html,html>body{width:100%;height:100%;position:relative;overflow:hidden}html>body{background:#000}html>body[data-loading] .container{opacity:0}html>body .container{width:100%;height:100%;position:relative;-webkit-transition:opacity .5s ease-in .1s;transition:opacity .5s ease-in .1s}body[data-step-is-elements=true]:before{content:"ðŸ”¥ ðŸ’¦ ðŸ’¨ ðŸŒŽ";display:block;font-family:initial;font-size:3em;position:absolute;z-index:10000;bottom:1em;width:100%;text-align:center}*{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-touch-callout:none}button{font-family:CtaFont,DefaultFont}.flex{display:-webkit-box;display:-ms-flexbox;display:flex}.hide{display:none}.background{z-index:10;overflow:hidden}.background,.background>img,.background video{position:absolute;left:0;top:0;width:100%;height:100%}.background>img,.background video{background:transparent;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear}img.nine-patch-source,img.video-source,img[src="data:image/png;base64,"],video[src="data:video/mp4;base64,"]{display:none}.aspect-aware,.aspect-aware[data-aspect-aware="0"]{background-size:cover;-o-object-fit:cover;object-fit:cover}.aspect-aware[data-aspect-aware="1"]{background-size:contain;-o-object-fit:contain;object-fit:contain}.aspect-aware[data-aspect-aware="2"]{background-size:fill;-o-object-fit:fill;object-fit:fill}.center{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.nine-patch{padding:.75rem 1.5rem;position:relative;border:none;color:#fff;background:none}.nine-patch.fallback{padding:.25rem 1rem;border-style:solid;border-width:.5rem;-o-border-image:none 37.5% fill;border-image:none 37.5% fill}.nine-patch>canvas{position:absolute;left:0;top:0;width:100%;height:100%;z-index:-1;background:transparent}img.fake-ui,img.tap-hint{width:15rem;height:auto;pointer-events:none;z-index:2}.content{flex-direction:column;width:100%;height:100%;position:relative;padding:1rem 0;-webkit-box-sizing:border-box;box-sizing:border-box}.content,.content>.layout{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column}.content>.layout{flex-direction:column;-webkit-box-flex:1;-ms-flex:1 1;flex:1 1}.content>.layout[data-align=start]{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.content>.layout[data-align=center]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.content>.layout[data-align=end]{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.content>.layout>.card{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center}video::-webkit-media-controls{display:none}span#modal{z-index:999999999!important}@media only screen and (orientation:portrait){.portrait-only{display:block}.landscape-only{display:none}}@media only screen and (orientation:landscape){html{font-size:5vh}.portrait-only{display:none}.landscape-only{display:block}}.content-frame-ready .content-frame-appearance{opacity:1}.content-frame-appearance{opacity:0;-webkit-transition:opacity .3s ease-in .1s;transition:opacity .3s ease-in .1s}.content-frame{--content-frame-width:0;--content-frame-height:0;width:var(--content-frame-width);height:var(--content-frame-height);position:absolute}.content-frame>img,.content-frame>video{position:absolute;left:0;top:0;width:100%;height:100%;-o-object-fit:fill;object-fit:fill}@media only screen and (orientation:portrait){.content-frame[data-anchor-portrait="0"]{left:0;top:0}.content-frame[data-anchor-portrait="1"]{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);top:0}.content-frame[data-anchor-portrait="2"]{right:0;top:0}.content-frame[data-anchor-portrait="3"]{left:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.content-frame[data-anchor-portrait="4"]{left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}.content-frame[data-anchor-portrait="5"]{right:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.content-frame[data-anchor-portrait="6"]{left:0;bottom:0}.content-frame[data-anchor-portrait="7"]{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);bottom:0}.content-frame[data-anchor-portrait="8"]{right:0;bottom:0}}@media only screen and (orientation:landscape){.content-frame[data-anchor-landscape="0"]{left:0;top:0}.content-frame[data-anchor-landscape="1"]{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);top:0}.content-frame[data-anchor-landscape="2"]{right:0;top:0}.content-frame[data-anchor-landscape="3"]{left:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.content-frame[data-anchor-landscape="4"]{left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}.content-frame[data-anchor-landscape="5"]{right:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.content-frame[data-anchor-landscape="6"]{left:0;bottom:0}.content-frame[data-anchor-landscape="7"]{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);bottom:0}.content-frame[data-anchor-landscape="8"]{right:0;bottom:0}}.banner{position:absolute;width:100%;left:0;top:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:17}.banner [data-cta="0"]{pointer-events:none}.banner [data-cta="1"],.banner [data-cta=true]{pointer-events:auto}.banner p{display:-webkit-box;display:-ms-flexbox;display:flex;padding:1em;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center;pointer-events:none}.banner p:empty{display:none}.background{--content-frame-width:100vw;--content-frame-height:100vh}.background>.filterable,.background>.filterable>canvas[data-filler]{position:absolute;left:0;top:0;width:100%;height:100%}.background>.filterable>canvas[data-filler]{background:transparent;-webkit-filter:blur(1em);filter:blur(1em)}.background>.filterable>canvas[data-filler][data-filler-type=none]{display:none}body[data-loading]>.container-overlay,body[data-step-low-power]>.container{opacity:0}body[data-step-low-power]>.container-overlay{display:block;opacity:1}body>.container-overlay{width:100%;height:100%;position:relative;background:transparent;display:none}video.low-power-tester{position:absolute;left:-1000px}.low-power-container{display:none;position:absolute;width:100%;height:100%;background:#000;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;left:calc(var(--offset-left));bottom:calc(var(--offset-bottom));z-index:1000}.low-power-container .low-power{display:-webkit-box;display:-ms-flexbox;display:flex;position:relative;width:100%;height:100%}.low-power>.low-power-container{display:-webkit-box;display:-ms-flexbox;display:flex;opacity:1}.invisible-video{opacity:0}[data-step-end-card=true] .low-power-container{display:none!important}.end-card{pointer-events:none;-webkit-transition:none;transition:none}.end-card[data-appearance-animation=opacity]{opacity:0}.end-card[data-appearance-animation=slide-up]{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}.end-card[data-appearance-animation=slide-down]{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}.end-card[data-appearance-animation=slide-left]{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}.end-card[data-appearance-animation=slide-right]{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}video{pointer-events:none}[data-step-end-card=true] .banner,[data-step-end-card=true] .container-overlay,[data-step-unlooped=true] .tap-hint-container{display:none}[data-step-end-card=true] .end-card[data-appearance-animation=opacity]{opacity:1;-webkit-transition:opacity .5s ease-in;transition:opacity .5s ease-in;pointer-events:all}[data-step-end-card=true] .end-card[data-appearance-animation=slide-down],[data-step-end-card=true] .end-card[data-appearance-animation=slide-left],[data-step-end-card=true] .end-card[data-appearance-animation=slide-right],[data-step-end-card=true] .end-card[data-appearance-animation=slide-up]{-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-transition:-webkit-transform .5s ease-in;transition:-webkit-transform .5s ease-in;transition:transform .5s ease-in;transition:transform .5s ease-in,-webkit-transform .5s ease-in;pointer-events:all}</style></head><body data-play-start-time="0.0" data-loop-start-time="0.0" data-loop-end-time="1.5" data-skip-loop="0" data-end-card-time="2.5" data-loading aggro-mode-clicks-to-store="999" aggro-mode-end-card-is-store="0" soundtrack-variant="background" data-low-power-preview="0"><img class="font hide" id="asset/default-font" src="https://assets.lunalabs.io/cdn/fb85e7e63b04ba182a9d8273f2daebfc/data/assets/8a4c8d6dfd20c968.woff2" data-font-family="DefaultFont"><img class="font hide" id="asset/cta-font" src="https://assets.lunalabs.io/cdn/fb85e7e63b04ba182a9d8273f2daebfc/data/assets/c2d452bd48b8bca7.woff2" data-font-family="CtaFont"><img class="soundtrack hide" id="asset/soundtrack" src="https://assets.lunalabs.io/cdn/fb85e7e63b04ba182a9d8273f2daebfc/data/assets/4c56fb4d9906f13c.mp4" data-type="background"><img class="soundtrack hide" id="asset/endcard-soundtrack" src="https://assets.lunalabs.io/cdn/fb85e7e63b04ba182a9d8273f2daebfc/data/assets/24610c7030da1997.mp4" data-type="endcard"><video class="low-power-tester" src="https://assets.lunalabs.io/cdn/fb85e7e63b04ba182a9d8273f2daebfc/data/assets/8aed70eba31e77dc.mp4" autoplay muted playsinline loop poster="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII="></video><div class="container-overlay"><div class="low-power"><div class="low-power-container" data-anchor-portrait="4" data-anchor-landscape="4"><img class="low-power" id="asset/low-power" src="https://assets.lunalabs.io/cdn/fb85e7e63b04ba182a9d8273f2daebfc/data/assets/0ce33b2d9d1215b4.png"></div></div></div><div class="container"><div class="background"><img class="content-frame-appearance aspect-aware portrait-only filterable" id="asset/background-image-portrait" src="https://assets.lunalabs.io/cdn/fb85e7e63b04ba182a9d8273f2daebfc/data/assets/a2534dfe044a1bf3.png" onerror="resetBrokenImage.call(this)" data-aspect-aware="0"><img class="content-frame-appearance aspect-aware landscape-only filterable" id="asset/background-image-landscape" src="https://assets.lunalabs.io/cdn/fb85e7e63b04ba182a9d8273f2daebfc/data/assets/d881e9f987b3d75c.png" onerror="resetBrokenImage.call(this)" data-aspect-aware="0" data-src-borrow-from="asset/background-image-portrait"><div class="filterable content-frame-appearance"><canvas data-filler="asset/background-video-portrait" data-filler-type="static"></canvas></div><div class="content-frame content-frame-appearance" id="video-background-content-frame" data-fit-fill-portrait="0" data-anchor-portrait="4" data-fit-fill-landscape="0" data-anchor-landscape="4" advanced-fitting="0" data-fit-fill-portrait-iphonex="0" data-fit-fill-portrait-iphone6="0" data-fit-fill-portrait-ipad="0" data-fit-fill-landscape-iphonex="0" data-fit-fill-landscape-iphone6="0" data-fit-fill-landscape-ipad="0"><img class="video-source" id="asset/background-video-portrait" src="https://assets.lunalabs.io/uploads/media/file/54851/e453c5ab6971a2661b7167466d8af3be/313940fe3e4f9a3f4cabc72523e21dba35cef545aaa65476f3dcc21274214188.mp4"><video class="filterable" data-id="asset/background-video-portrait" src="https://assets.lunalabs.io/cdn/fb85e7e63b04ba182a9d8273f2daebfc/data/assets/e56981abdef0c55a.mp4" loop muted playsinline poster="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII=" data-muted="0"></video><div class="tap-hint-container" data-anchor-portrait="4" data-anchor-landscape="4"><div class="overlay"></div><div class="button"></div><img class="tap-hint hint-source" id="asset/tap-hint" src="https://assets.lunalabs.io/cdn/fb85e7e63b04ba182a9d8273f2daebfc/data/assets/a9f43c8cd1d32857.png" data-flip="0" data-speed="1"><span>Tap here, quick!</span></div></div></div><div class="banner"><p data-cta="0">This is banner text!</p></div><div class="end-card" data-end-card-id="end-card" data-appearance-animation="opacity" data-type="full" data-cta="1"><div class="content"><div class="layout" data-align="center"><div class="card"><img class="background aspect-aware portrait-only" id="asset/end-card-background" src="https://assets.lunalabs.io/uploads/media/file/54784/1b879e5c02c933bbdbdad93ab3d45b8e/fec80871375b72dadb5e116798dfbdcc0bd07c5dc1f9925e65d9621f2115fc7c.png" onerror="resetBrokenImage.call(this)" data-aspect-aware="0"><img class="background aspect-aware landscape-only" id="asset/end-card-background-landscape" src="https://assets.lunalabs.io/cdn/fb85e7e63b04ba182a9d8273f2daebfc/data/assets/b349e5440cf7b44f.png" onerror="resetBrokenImage.call(this)" data-aspect-aware="0" data-src-borrow-from="asset/end-card-background"><img class="icon" id="asset/app-icon" src="https://assets.lunalabs.io/cdn/fb85e7e63b04ba182a9d8273f2daebfc/data/assets/2a3297c3b130bdcd.png" data-absolute-position="0"><span>A simple yet captivating gameplay is ahead!</span><img class="nine-patch-source" id="asset/cta-button" src="https://assets.lunalabs.io/uploads/media/file/13295/0f2af33aac728e38046b116c83114b95/10448bd35fb556815202f025fc855c0fa531c0e065830cf812ac6d695908695f.png"><div class="cta-button-container" data-absolute-position="0"><button class="nine-patch" data-background-id="asset/cta-button" data-cta data-nine-patch-stops="0.33,0.66,0.33,0.66"><span class="button-text">Play now!</span></button></div></div></div></div></div></div><style></style><script type="text/javascript">window.addEventListener("luna:build",(()=>{Bridge.ready((()=>{Luna.Unity.Playable.InstallFullGame=function(){window.pi.logCta(),dapi.openStoreUrl()},Luna.Unity.Playable.Trigger=function(n,e){console.warn("NUC is not defined")},Luna.Unity.Playable.CustomEvent=function(n,e){console.warn("NUC is not defined")},Luna.Unity.Playable.Callback=function(n,e){console.warn("NUC is not defined")},void 0!==Luna.Unity.Nucleo&&(Luna.Unity.Nucleo.SendEvent=function(n,e){console.warn("NUC is not defined")},Luna.Unity.Nucleo.SendEvent$1=function(n,e,i){console.warn("NUC is not defined")})}))})),window.addEventListener("luna:ready",(()=>{window.dispatchEvent(new Event("luna:build"))}))</script><script>!function(){var n=!1,e=!1,i=[],t=function(){if(!n){n=!0;var e=function(){(window._decode122Promise||Promise.resolve()).then((()=>{window._decode122Promise=null,window.pi&&window.pi.logStarting();var n=window.startGame();n&&n.then?n.then((function(){window.dispatchEvent(new Event("luna:started"))})):window.dispatchEvent(new Event("luna:started"))}))};window.pi?window.pi.ready(e):e()}};window.addEventListener("luna:unsafe:mute",(function(){e?window.dispatchEvent(new Event("luna:mute")):i.push("luna:mute")})),window.addEventListener("luna:unsafe:unmute",(function(){e?window.dispatchEvent(new Event("luna:unmute")):i.push("luna:unmute")})),window.addEventListener("luna:unsafe:pause",(function(){window.dispatchEvent(new Event("luna:unsafe:mute")),e?window.dispatchEvent(new Event("luna:pause")):i.push("luna:pause")})),window.addEventListener("luna:unsafe:resume",(function(){window.dispatchEvent(new Event("luna:unsafe:unmute")),e?window.dispatchEvent(new Event("luna:resume")):i.push("luna:resume")})),window.addEventListener("luna:resume",(function(){t()})),window.addEventListener("luna:start",(function(){t()})),window.addEventListener("luna:started",(function(){e=!0,i.forEach((function(n){window.dispatchEvent(new Event(n))})),i.length=0,window.pi&&(window.app&&window.app.app&&window.pi.attachTo(window.app.app),window.pi.logStarted())})),window.addEventListener("luna:build",(function(){Bridge.ready((function(){window.pi&&(Luna.Unity.LifeCycle.GameEnded=Luna.Unity.LifeCycle.GameEnded||window.pi.logGameEnd.bind(window.pi),Luna.Unity.Analytics.LogEvent$1=window.pi.logCustomEvent.bind(window.pi))}))}))}()</script></body></html>